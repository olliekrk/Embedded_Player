ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbh_msc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBH_MSC_SOFProcess,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-sp-d16
  25              	USBH_MSC_SOFProcess:
  26              	.LVL0:
  27              	.LFB147:
  28              		.file 1 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c"
   1:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
   2:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @file    usbh_msc.c
   4:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief   This file implements the MSC class driver functions
   6:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   7:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *                                MSC Class  Description
   8:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *          ===================================================================
   9:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This module manages the MSC class V1.0 following the "Universal
  10:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Serial Bus Mass Storage Class (MSC) Bulk-Only Transport (BOT) Version 1.0
  11:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           Sep. 31, 1999".
  12:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *           This driver implements the following aspects of the specification:
  13:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Bulk-Only Transport protocol
  14:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *             - Subclass : SCSI transparent command set (ref. SCSI Primary Commands - 3 (SPC-3))
  15:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  16:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *  @endverbatim
  17:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  18:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  19:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @attention
  20:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  21:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics International N.V.
  22:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * All rights reserved.</center></h2>
  23:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  24:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * Redistribution and use in source and binary forms, with or without
  25:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * modification, are permitted, provided that the following conditions are met:
  26:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  27:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * 1. Redistribution of source code must retain the above copyright notice,
  28:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    this list of conditions and the following disclaimer.
  29:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  30:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    this list of conditions and the following disclaimer in the documentation
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 2


  31:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    and/or other materials provided with the distribution.
  32:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * 3. Neither the name of STMicroelectronics nor the names of other
  33:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    contributors to this software may be used to endorse or promote products
  34:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    derived from this software without specific written permission.
  35:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * 4. This software, including modifications and/or derivative works of this
  36:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    software, must execute solely and exclusively on microcontroller or
  37:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  38:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * 5. Redistribution and use of this software other than as permitted under
  39:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    this license is void and will automatically terminate your rights under
  40:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *    this license.
  41:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  42:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS"
  43:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT
  44:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
  45:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  46:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT
  47:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  48:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  49:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
  50:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  51:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  52:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  53:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  54:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *
  55:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   ******************************************************************************
  56:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  57:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  58:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* BSPDependencies
  59:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   - "stm32xxxxx_{eval}{discovery}{nucleo_144}.c"
  60:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   - "stm32xxxxx_{eval}{discovery}_io.c"
  61:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   - "stm32xxxxx_{eval}{discovery}{adafruit}_lcd.c"
  62:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   - "stm32xxxxx_{eval}{discovery}_sdram.c"
  63:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   EndBSPDependencies */
  64:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  65:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /* Includes ------------------------------------------------------------------*/
  66:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  67:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc.h"
  68:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_bot.h"
  69:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #include "usbh_msc_scsi.h"
  70:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  71:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  72:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_LIB
  73:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  74:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  75:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  76:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_CLASS
  77:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  78:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  79:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  80:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @addtogroup USBH_MSC_CLASS
  81:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  82:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  83:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  84:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE
  85:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief    This file includes the mass storage related functions
  86:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  87:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 3


  88:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  89:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  90:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_TypesDefinitions
  91:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  92:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  93:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
  94:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
  95:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
  96:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
  97:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Defines
  98:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
  99:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 100:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 101:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 102:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 103:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 104:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Macros
 105:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 106:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 107:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 108:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 109:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 110:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 111:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 112:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Variables
 113:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 114:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 115:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 116:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 117:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 118:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 119:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 120:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_FunctionPrototypes
 121:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 122:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 123:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 124:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit  (USBH_HandleTypeDef *phost);
 125:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 126:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit  (USBH_HandleTypeDef *phost);
 127:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 128:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost);
 129:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 130:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost);
 131:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 132:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost);
 133:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 134:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun);
 135:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 136:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_ClassTypeDef  USBH_msc =
 137:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 138:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   "MSC",
 139:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USB_MSC_CLASS,
 140:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceInit,
 141:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_InterfaceDeInit,
 142:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_ClassRequest,
 143:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_Process,
 144:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SOFProcess,
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 4


 145:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   NULL,
 146:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** };
 147:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 148:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 149:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 150:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 151:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 152:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 153:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 154:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Exported_Variables
 155:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 156:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 157:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 158:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 159:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @}
 160:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 161:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 162:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 163:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /** @defgroup USBH_MSC_CORE_Private_Functions
 164:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @{
 165:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 166:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 167:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 168:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 169:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceInit
 170:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function init the MSC class.
 171:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 172:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 173:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 174:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceInit (USBH_HandleTypeDef *phost)
 175:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 176:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface = 0U;
 177:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_FAIL;
 178:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 179:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   interface = USBH_FindInterface(phost, phost->pActiveClass->ClassCode, MSC_TRANSPARENT, MSC_BOT);
 181:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if(interface == 0xFFU) /* Not Valid Interface */
 183:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_DbgLog ("Cannot Find the interface for %s class.", phost->pActiveClass->Name);
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 186:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 187:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 188:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_SelectInterface (phost, interface);
 190:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = (MSC_HandleTypeDef *)USBH_malloc (sizeof(MSC_HandleTypeDef));
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 193:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[0].bEndpointAddress 
 195:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[0
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 198:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 199:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 200:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 5


 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 203:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 204:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[1].bEndpointAddress 
 206:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEp = (phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[1
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 209:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 210:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 211:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 212:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEp = (phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_Desc[
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 214:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 215:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 216:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->current_lun = 0U;
 217:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->rw_lun = 0U;
 218:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_INIT;
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->error = MSC_OK;
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->req_state = MSC_REQ_IDLE;
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 223:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 224:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_MSC_BOT_Init(phost);
 225:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 226:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     /* De-Initialize LUNs information */
 227:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_memset(MSC_Handle->unit, 0, sizeof(MSC_Handle->unit));
 228:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 229:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     /* Open the new channels */
 230:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_OpenPipe  (phost,
 231:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->OutPipe,
 232:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->OutEp,
 233:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     phost->device.address,
 234:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     phost->device.speed,
 235:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     USB_EP_TYPE_BULK,
 236:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->OutEpSize);
 237:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 238:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_OpenPipe  (phost,
 239:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->InPipe,
 240:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->InEp,
 241:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     phost->device.address,
 242:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     phost->device.speed,
 243:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     USB_EP_TYPE_BULK,
 244:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->InEpSize);
 245:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_LL_SetToggle (phost, MSC_Handle->InPipe, 0U);
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_LL_SetToggle (phost, MSC_Handle->OutPipe, 0U);
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_OK;
 249:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return status;
 251:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 252:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 253:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 254:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_InterfaceDeInit
 255:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function DeInit the Pipes used for the MSC class.
 256:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 257:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 258:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 6


 259:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_InterfaceDeInit (USBH_HandleTypeDef *phost)
 260:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 262:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ( MSC_Handle->OutPipe)
 264:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->OutPipe);
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe  (phost, MSC_Handle->OutPipe);
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 268:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 269:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ( MSC_Handle->InPipe)
 271:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_ClosePipe(phost, MSC_Handle->InPipe);
 273:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe  (phost, MSC_Handle->InPipe);
 274:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 275:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 276:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if(phost->pActiveClass->pData)
 278:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_free (phost->pActiveClass->pData);
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0;
 281:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 282:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 284:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 285:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 286:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 287:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_ClassRequest
 288:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is responsible for handling Standard requests
 289:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         for MSC class.
 290:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 291:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 292:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 293:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_ClassRequest(USBH_HandleTypeDef *phost)
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 297:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 298:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 299:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->req_state)
 301:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 302:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_REQ_IDLE:
 303:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_REQ_GET_MAX_LUN:
 304:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     /* Issue GetMaxLUN request */
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_MSC_BOT_REQ_GetMaxLUN(phost, (uint8_t *)(void *)&MSC_Handle->max_lun);
 306:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 307:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     /* When devices do not support the GetMaxLun request, this should
 308:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****        be considred as only one logical unit is supported */
 309:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(status == USBH_NOT_SUPPORTED)
 310:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 311:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->max_lun = 0U;
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       status = USBH_OK;
 313:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 314:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(status == USBH_OK)
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 7


 316:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->max_lun = (MSC_Handle->max_lun > MAX_SUPPORTED_LUN)? MAX_SUPPORTED_LUN : (uint8_t
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 319:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       for(i = 0U; i < MSC_Handle->max_lun; i++)
 321:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[i].prev_ready_state = USBH_FAIL;
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[i].state_changed = 0U;
 324:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 325:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 326:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 327:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 328:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_REQ_ERROR :
 329:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     /* a Clear Feature should be issued here */
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(USBH_ClrFeature(phost, 0x00U) == USBH_OK)
 331:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->req_state = MSC_Handle->prev_req_state;
 333:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 334:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 335:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 336:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   default:
 337:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 338:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 339:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return status;
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 342:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 343:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 344:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Process
 345:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC data transfers
 346:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 347:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 348:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 349:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_Process(USBH_HandleTypeDef *phost)
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 354:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY ;
 355:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->state)
 357:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 358:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_INIT:
 359:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(MSC_Handle->current_lun < MSC_Handle->max_lun)
 361:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 362:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 364:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* Switch MSC REQ state machine */
 365:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       switch (MSC_Handle->unit[MSC_Handle->current_lun].state)
 366:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 367:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_INIT:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         USBH_UsrLog ("LUN #%d: ", MSC_Handle->current_lun);
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->timer = phost->Timer;
 371:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 372:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 8


 373:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_READ_INQUIRY:
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         scsi_status = USBH_MSC_SCSI_Inquiry(phost, (uint8_t)MSC_Handle->current_lun, &MSC_Handle->u
 375:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_OK)
 377:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Vendor  : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.ve
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.pr
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.re
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 382:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (scsi_status == USBH_FAIL)
 384:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 386:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 387:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         else
 388:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if(scsi_status == USBH_UNRECOVERED_ERROR)
 390:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 393:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 394:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 395:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 396:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 397:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_TEST_UNIT_READY:
 398:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         ready_status = USBH_MSC_SCSI_TestUnitReady(phost, (uint8_t)MSC_Handle->current_lun);
 399:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (ready_status == USBH_OK)
 401:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if(MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_OK)
 403:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 404:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device ready");
 406:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 407:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           else
 408:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 409:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 410:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_CAPACITY10;
 412:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 413:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 414:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 415:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if (ready_status == USBH_FAIL)
 416:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 417:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           /* Media not ready, so try to check again during 10s */
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if( MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state != USBH_FAIL)
 419:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 1U;
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device NOT ready");
 422:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 423:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           else
 424:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state_changed = 0U;
 426:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 428:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 9


 430:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 431:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         else
 432:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 433:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if (ready_status == USBH_UNRECOVERED_ERROR)
 434:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 437:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 438:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 439:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 440:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 441:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_READ_CAPACITY10:
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         scsi_status = USBH_MSC_SCSI_ReadCapacity(phost, (uint8_t)MSC_Handle->current_lun, &MSC_Hand
 443:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if(scsi_status == USBH_OK)
 445:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if(MSC_Handle->unit[MSC_Handle->current_lun].state_changed == 1U)
 447:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device capacity : %lu Bytes", \
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr * MSC_Handle->
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block number : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
 452:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 456:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         else if(scsi_status == USBH_FAIL)
 458:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_REQUEST_SENSE;
 460:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 461:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         else
 462:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if(scsi_status == USBH_UNRECOVERED_ERROR)
 464:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 466:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 467:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 468:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 469:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 470:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 471:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_REQUEST_SENSE:
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         scsi_status = USBH_MSC_SCSI_RequestSense(phost, (uint8_t)MSC_Handle->current_lun, &MSC_Hand
 473:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if( scsi_status == USBH_OK)
 475:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if((MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_UNIT_ATTENTION)
 477:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****              (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY) )
 478:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 479:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             if((phost->Timer - MSC_Handle->timer) < 10000U)
 481:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 483:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               break;
 484:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 485:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 486:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 10


 487:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Sense Key  : %x", MSC_Handle->unit[MSC_Handle->current_lun].sense.key);
 488:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].sens
 489:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->current_
 490:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 491:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 492:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 493:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         if(scsi_status == USBH_FAIL)
 494:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 495:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("MSC Device NOT ready");
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 497:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 498:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         else
 499:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           if(scsi_status == USBH_UNRECOVERED_ERROR)
 501:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 503:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 504:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 505:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 506:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 507:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 508:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       case MSC_UNRECOVERED_ERROR:
 509:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->current_lun++;
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 511:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 512:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       default:
 513:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 514:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 515:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 516:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 517:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     osMessagePut ( phost->os_event, USBH_CLASS_EVENT, 0U);
 518:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 519:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 520:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 521:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->current_lun = 0U;
 523:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_IDLE;
 524:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 525:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     osMessagePut ( phost->os_event, USBH_CLASS_EVENT, 0U);
 526:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 527:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pUser(phost, HOST_USER_CLASS_ACTIVE);
 528:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 529:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 530:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 531:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_IDLE:
 532:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     error = USBH_OK;
 533:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 534:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 535:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   default:
 536:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 537:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 538:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 539:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 540:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 541:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 542:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 543:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_SOFProcess
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 11


 544:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for SOF state
 545:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 546:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 547:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 548:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_SOFProcess(USBH_HandleTypeDef *phost)
 549:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
  29              		.loc 1 549 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 550:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 551:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
  34              		.loc 1 551 3 view .LVU1
 552:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
  35              		.loc 1 552 1 is_stmt 0 view .LVU2
  36 0000 0020     		movs	r0, #0
  37              	.LVL1:
  38              		.loc 1 552 1 view .LVU3
  39 0002 7047     		bx	lr
  40              		.cfi_endproc
  41              	.LFE147:
  43              		.section	.rodata.USBH_MSC_Process.str1.4,"aMS",%progbits,1
  44              		.align	2
  45              	.LC0:
  46 0000 4C554E20 		.ascii	"LUN #%d: \000"
  46      2325643A 
  46      2000
  47 000a 0000     		.align	2
  48              	.LC1:
  49 000c 496E7175 		.ascii	"Inquiry Vendor  : %s\000"
  49      69727920 
  49      56656E64 
  49      6F722020 
  49      3A202573 
  50 0021 000000   		.align	2
  51              	.LC2:
  52 0024 496E7175 		.ascii	"Inquiry Product : %s\000"
  52      69727920 
  52      50726F64 
  52      75637420 
  52      3A202573 
  53 0039 000000   		.align	2
  54              	.LC3:
  55 003c 496E7175 		.ascii	"Inquiry Version : %s\000"
  55      69727920 
  55      56657273 
  55      696F6E20 
  55      3A202573 
  56 0051 000000   		.align	2
  57              	.LC4:
  58 0054 4D534320 		.ascii	"MSC Device ready\000"
  58      44657669 
  58      63652072 
  58      65616479 
  58      00
  59 0065 000000   		.align	2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 12


  60              	.LC5:
  61 0068 4D534320 		.ascii	"MSC Device NOT ready\000"
  61      44657669 
  61      6365204E 
  61      4F542072 
  61      65616479 
  62 007d 000000   		.align	2
  63              	.LC6:
  64 0080 4D534320 		.ascii	"MSC Device capacity : %lu Bytes\000"
  64      44657669 
  64      63652063 
  64      61706163 
  64      69747920 
  65              		.align	2
  66              	.LC7:
  67 00a0 426C6F63 		.ascii	"Block number : %lu\000"
  67      6B206E75 
  67      6D626572 
  67      203A2025 
  67      6C7500
  68 00b3 00       		.align	2
  69              	.LC8:
  70 00b4 426C6F63 		.ascii	"Block Size   : %lu\000"
  70      6B205369 
  70      7A652020 
  70      203A2025 
  70      6C7500
  71 00c7 00       		.align	2
  72              	.LC9:
  73 00c8 53656E73 		.ascii	"Sense Key  : %x\000"
  73      65204B65 
  73      7920203A 
  73      20257800 
  74              		.align	2
  75              	.LC10:
  76 00d8 41646469 		.ascii	"Additional Sense Code : %x\000"
  76      74696F6E 
  76      616C2053 
  76      656E7365 
  76      20436F64 
  77 00f3 00       		.align	2
  78              	.LC11:
  79 00f4 41646469 		.ascii	"Additional Sense Code Qualifier: %x\000"
  79      74696F6E 
  79      616C2053 
  79      656E7365 
  79      20436F64 
  80              		.section	.text.USBH_MSC_Process,"ax",%progbits
  81              		.align	1
  82              		.syntax unified
  83              		.thumb
  84              		.thumb_func
  85              		.fpu fpv5-sp-d16
  87              	USBH_MSC_Process:
  88              	.LVL2:
  89              	.LFB146:
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 13


  90              		.loc 1 350 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 0
  93              		@ frame_needed = 0, uses_anonymous_args = 0
 350:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
  94              		.loc 1 350 1 is_stmt 0 view .LVU5
  95 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  96              	.LCFI0:
  97              		.cfi_def_cfa_offset 24
  98              		.cfi_offset 3, -24
  99              		.cfi_offset 4, -20
 100              		.cfi_offset 5, -16
 101              		.cfi_offset 6, -12
 102              		.cfi_offset 7, -8
 103              		.cfi_offset 14, -4
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 104              		.loc 1 351 3 is_stmt 1 view .LVU6
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 105              		.loc 1 351 63 is_stmt 0 view .LVU7
 106 0002 D0F87833 		ldr	r3, [r0, #888]
 351:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 107              		.loc 1 351 22 view .LVU8
 108 0006 DD69     		ldr	r5, [r3, #28]
 109              	.LVL3:
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 110              		.loc 1 352 3 is_stmt 1 view .LVU9
 353:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef ready_status = USBH_BUSY ;
 111              		.loc 1 353 3 view .LVU10
 354:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 112              		.loc 1 354 3 view .LVU11
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 113              		.loc 1 356 3 view .LVU12
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 114              		.loc 1 356 21 is_stmt 0 view .LVU13
 115 0008 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 116              		.loc 1 356 3 view .LVU14
 117 000a 23B1     		cbz	r3, .L3
 118 000c 012B     		cmp	r3, #1
 119 000e 40F0F781 		bne	.L28
 532:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 120              		.loc 1 532 11 view .LVU15
 121 0012 0020     		movs	r0, #0
 122              	.LVL4:
 123              	.L4:
 538:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 124              		.loc 1 538 3 is_stmt 1 view .LVU16
 539:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 125              		.loc 1 539 1 is_stmt 0 view .LVU17
 126 0014 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 127              	.LVL5:
 128              	.L3:
 539:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 129              		.loc 1 539 1 view .LVU18
 130 0016 0446     		mov	r4, r0
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 131              		.loc 1 360 5 is_stmt 1 view .LVU19
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 14


 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 132              		.loc 1 360 18 is_stmt 0 view .LVU20
 133 0018 B5F8F810 		ldrh	r1, [r5, #248]
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 134              		.loc 1 360 44 view .LVU21
 135 001c 2B68     		ldr	r3, [r5]
 360:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 136              		.loc 1 360 7 view .LVU22
 137 001e 9942     		cmp	r1, r3
 138 0020 80F0C581 		bcs	.L5
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* Switch MSC REQ state machine */
 139              		.loc 1 363 7 is_stmt 1 view .LVU23
 363:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       /* Switch MSC REQ state machine */
 140              		.loc 1 363 55 is_stmt 0 view .LVU24
 141 0024 3423     		movs	r3, #52
 142 0026 03FB0153 		mla	r3, r3, r1, r5
 143 002a 0122     		movs	r2, #1
 144 002c 83F89120 		strb	r2, [r3, #145]
 365:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 145              		.loc 1 365 7 is_stmt 1 view .LVU25
 365:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 146              		.loc 1 365 56 is_stmt 0 view .LVU26
 147 0030 93F89030 		ldrb	r3, [r3, #144]	@ zero_extendqisi2
 148 0034 082B     		cmp	r3, #8
 149 0036 1CD8     		bhi	.L6
 150 0038 DFE813F0 		tbh	[pc, r3, lsl #1]
 151              	.L8:
 152 003c 0900     		.2byte	(.L13-.L8)/2
 153 003e 1B00     		.2byte	(.L6-.L8)/2
 154 0040 7700     		.2byte	(.L12-.L8)/2
 155 0042 E000     		.2byte	(.L11-.L8)/2
 156 0044 2300     		.2byte	(.L10-.L8)/2
 157 0046 4501     		.2byte	(.L9-.L8)/2
 158 0048 1B00     		.2byte	(.L6-.L8)/2
 159 004a 1B00     		.2byte	(.L6-.L8)/2
 160 004c B501     		.2byte	(.L7-.L8)/2
 161              		.p2align 1
 162              	.L13:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 163              		.loc 1 368 9 is_stmt 1 view .LVU27
 164 004e E048     		ldr	r0, .L38
 165              	.LVL6:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 166              		.loc 1 368 9 is_stmt 0 view .LVU28
 167 0050 FFF7FEFF 		bl	printf
 168              	.LVL7:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 169              		.loc 1 368 9 is_stmt 1 view .LVU29
 170 0054 0A20     		movs	r0, #10
 171 0056 FFF7FEFF 		bl	putchar
 172              	.LVL8:
 368:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_READ_INQUIRY;
 173              		.loc 1 368 59 view .LVU30
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->timer = phost->Timer;
 174              		.loc 1 369 9 view .LVU31
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->timer = phost->Timer;
 175              		.loc 1 369 36 is_stmt 0 view .LVU32
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 15


 176 005a B5F8F830 		ldrh	r3, [r5, #248]
 369:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->timer = phost->Timer;
 177              		.loc 1 369 57 view .LVU33
 178 005e 3422     		movs	r2, #52
 179 0060 02FB0353 		mla	r3, r2, r3, r5
 180 0064 0422     		movs	r2, #4
 181 0066 83F89020 		strb	r2, [r3, #144]
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 182              		.loc 1 370 9 is_stmt 1 view .LVU34
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 183              		.loc 1 370 34 is_stmt 0 view .LVU35
 184 006a D4F8BC33 		ldr	r3, [r4, #956]
 370:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 185              		.loc 1 370 27 view .LVU36
 186 006e C5F8FC30 		str	r3, [r5, #252]
 371:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 187              		.loc 1 371 9 is_stmt 1 view .LVU37
 188              	.LVL9:
 189              	.L6:
 517:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 190              		.loc 1 517 5 view .LVU38
 191 0072 0022     		movs	r2, #0
 192 0074 0421     		movs	r1, #4
 193 0076 D4F8CC03 		ldr	r0, [r4, #972]
 194 007a FFF7FEFF 		bl	osMessagePut
 195              	.LVL10:
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 196              		.loc 1 352 22 is_stmt 0 view .LVU39
 197 007e 0120     		movs	r0, #1
 198 0080 C8E7     		b	.L4
 199              	.LVL11:
 200              	.L10:
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 201              		.loc 1 374 9 is_stmt 1 view .LVU40
 374:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 202              		.loc 1 374 23 is_stmt 0 view .LVU41
 203 0082 3422     		movs	r2, #52
 204 0084 02FB01F2 		mul	r2, r2, r1
 205 0088 9832     		adds	r2, r2, #152
 206 008a 2A44     		add	r2, r2, r5
 207 008c 0732     		adds	r2, r2, #7
 208 008e C9B2     		uxtb	r1, r1
 209 0090 FFF7FEFF 		bl	USBH_MSC_SCSI_Inquiry
 210              	.LVL12:
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 211              		.loc 1 376 9 is_stmt 1 view .LVU42
 376:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 212              		.loc 1 376 12 is_stmt 0 view .LVU43
 213 0094 0646     		mov	r6, r0
 214 0096 78B1     		cbz	r0, .L30
 215              	.LVL13:
 216              	.L14:
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 217              		.loc 1 383 9 is_stmt 1 view .LVU44
 383:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 218              		.loc 1 383 12 is_stmt 0 view .LVU45
 219 0098 022E     		cmp	r6, #2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 16


 220 009a 3DD0     		beq	.L31
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 221              		.loc 1 389 11 is_stmt 1 view .LVU46
 389:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 222              		.loc 1 389 13 is_stmt 0 view .LVU47
 223 009c 042E     		cmp	r6, #4
 224 009e E8D1     		bne	.L6
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 225              		.loc 1 391 13 is_stmt 1 view .LVU48
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 226              		.loc 1 391 40 is_stmt 0 view .LVU49
 227 00a0 B5F8F830 		ldrh	r3, [r5, #248]
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 228              		.loc 1 391 61 view .LVU50
 229 00a4 3422     		movs	r2, #52
 230 00a6 02FB0355 		mla	r5, r2, r3, r5
 231              	.LVL14:
 391:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 232              		.loc 1 391 61 view .LVU51
 233 00aa 0123     		movs	r3, #1
 234 00ac 85F89030 		strb	r3, [r5, #144]
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 235              		.loc 1 392 13 is_stmt 1 view .LVU52
 392:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 236              		.loc 1 392 61 is_stmt 0 view .LVU53
 237 00b0 0223     		movs	r3, #2
 238 00b2 85F89130 		strb	r3, [r5, #145]
 239 00b6 DCE7     		b	.L6
 240              	.LVL15:
 241              	.L30:
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.pr
 242              		.loc 1 378 11 is_stmt 1 view .LVU54
 243 00b8 B5F8F810 		ldrh	r1, [r5, #248]
 244 00bc 3427     		movs	r7, #52
 245 00be 07FB01F1 		mul	r1, r7, r1
 246 00c2 9831     		adds	r1, r1, #152
 247 00c4 2944     		add	r1, r1, r5
 248 00c6 0A31     		adds	r1, r1, #10
 249 00c8 C248     		ldr	r0, .L38+4
 250              	.LVL16:
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.pr
 251              		.loc 1 378 11 is_stmt 0 view .LVU55
 252 00ca FFF7FEFF 		bl	printf
 253              	.LVL17:
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.pr
 254              		.loc 1 378 11 is_stmt 1 view .LVU56
 255 00ce 0A20     		movs	r0, #10
 256 00d0 FFF7FEFF 		bl	putchar
 257              	.LVL18:
 378:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Product : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.pr
 258              		.loc 1 378 108 view .LVU57
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.re
 259              		.loc 1 379 11 view .LVU58
 260 00d4 B5F8F810 		ldrh	r1, [r5, #248]
 261 00d8 07FB01F1 		mul	r1, r7, r1
 262 00dc A031     		adds	r1, r1, #160
 263 00de 2944     		add	r1, r1, r5
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 17


 264 00e0 0B31     		adds	r1, r1, #11
 265 00e2 BD48     		ldr	r0, .L38+8
 266 00e4 FFF7FEFF 		bl	printf
 267              	.LVL19:
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.re
 268              		.loc 1 379 11 view .LVU59
 269 00e8 0A20     		movs	r0, #10
 270 00ea FFF7FEFF 		bl	putchar
 271              	.LVL20:
 379:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Inquiry Version : %s", MSC_Handle->unit[MSC_Handle->current_lun].inquiry.re
 272              		.loc 1 379 109 view .LVU60
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 273              		.loc 1 380 11 view .LVU61
 274 00ee B5F8F810 		ldrh	r1, [r5, #248]
 275 00f2 07FB01F1 		mul	r1, r7, r1
 276 00f6 B031     		adds	r1, r1, #176
 277 00f8 2944     		add	r1, r1, r5
 278 00fa 0C31     		adds	r1, r1, #12
 279 00fc B748     		ldr	r0, .L38+12
 280 00fe FFF7FEFF 		bl	printf
 281              	.LVL21:
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 282              		.loc 1 380 11 view .LVU62
 283 0102 0A20     		movs	r0, #10
 284 0104 FFF7FEFF 		bl	putchar
 285              	.LVL22:
 380:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_TEST_UNIT_READY;
 286              		.loc 1 380 110 view .LVU63
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 287              		.loc 1 381 11 view .LVU64
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 288              		.loc 1 381 38 is_stmt 0 view .LVU65
 289 0108 B5F8F830 		ldrh	r3, [r5, #248]
 381:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 290              		.loc 1 381 59 view .LVU66
 291 010c 07FB0357 		mla	r7, r7, r3, r5
 292 0110 0223     		movs	r3, #2
 293 0112 87F89030 		strb	r3, [r7, #144]
 294 0116 BFE7     		b	.L14
 295              	.L31:
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 296              		.loc 1 385 11 is_stmt 1 view .LVU67
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 297              		.loc 1 385 38 is_stmt 0 view .LVU68
 298 0118 B5F8F830 		ldrh	r3, [r5, #248]
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 299              		.loc 1 385 59 view .LVU69
 300 011c 3422     		movs	r2, #52
 301 011e 02FB0355 		mla	r5, r2, r3, r5
 302              	.LVL23:
 385:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 303              		.loc 1 385 59 view .LVU70
 304 0122 0523     		movs	r3, #5
 305 0124 85F89030 		strb	r3, [r5, #144]
 306 0128 A3E7     		b	.L6
 307              	.LVL24:
 308              	.L12:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 18


 398:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 309              		.loc 1 398 9 is_stmt 1 view .LVU71
 398:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 310              		.loc 1 398 24 is_stmt 0 view .LVU72
 311 012a C9B2     		uxtb	r1, r1
 312 012c FFF7FEFF 		bl	USBH_MSC_SCSI_TestUnitReady
 313              	.LVL25:
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 314              		.loc 1 400 9 is_stmt 1 view .LVU73
 400:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 315              		.loc 1 400 12 is_stmt 0 view .LVU74
 316 0130 0646     		mov	r6, r0
 317 0132 D0B9     		cbnz	r0, .L16
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 318              		.loc 1 402 11 is_stmt 1 view .LVU75
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 319              		.loc 1 402 41 is_stmt 0 view .LVU76
 320 0134 B5F8F830 		ldrh	r3, [r5, #248]
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 321              		.loc 1 402 55 view .LVU77
 322 0138 3422     		movs	r2, #52
 323 013a 02FB0352 		mla	r2, r2, r3, r5
 324 013e 92F89220 		ldrb	r2, [r2, #146]	@ zero_extendqisi2
 402:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 325              		.loc 1 402 13 view .LVU78
 326 0142 1ABB     		cbnz	r2, .L32
 409:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 327              		.loc 1 409 13 is_stmt 1 view .LVU79
 409:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 328              		.loc 1 409 69 is_stmt 0 view .LVU80
 329 0144 3422     		movs	r2, #52
 330 0146 02FB0353 		mla	r3, r2, r3, r5
 331 014a 0022     		movs	r2, #0
 332 014c 83F8C120 		strb	r2, [r3, #193]
 333              	.LVL26:
 334              	.L18:
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 335              		.loc 1 411 11 is_stmt 1 view .LVU81
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 336              		.loc 1 411 38 is_stmt 0 view .LVU82
 337 0150 B5F8F830 		ldrh	r3, [r5, #248]
 411:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 338              		.loc 1 411 59 view .LVU83
 339 0154 3422     		movs	r2, #52
 340 0156 02FB0353 		mla	r3, r2, r3, r5
 341 015a 0322     		movs	r2, #3
 342 015c 83F89020 		strb	r2, [r3, #144]
 412:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 343              		.loc 1 412 11 is_stmt 1 view .LVU84
 412:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_OK;
 344              		.loc 1 412 59 is_stmt 0 view .LVU85
 345 0160 0022     		movs	r2, #0
 346 0162 83F89120 		strb	r2, [r3, #145]
 413:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 347              		.loc 1 413 11 is_stmt 1 view .LVU86
 413:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 348              		.loc 1 413 70 is_stmt 0 view .LVU87
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 19


 349 0166 83F89220 		strb	r2, [r3, #146]
 350              	.L16:
 415:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 351              		.loc 1 415 9 is_stmt 1 view .LVU88
 415:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 352              		.loc 1 415 12 is_stmt 0 view .LVU89
 353 016a 022E     		cmp	r6, #2
 354 016c 1BD0     		beq	.L33
 433:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 355              		.loc 1 433 11 is_stmt 1 view .LVU90
 433:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 356              		.loc 1 433 14 is_stmt 0 view .LVU91
 357 016e 042E     		cmp	r6, #4
 358 0170 7FF47FAF 		bne	.L6
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 359              		.loc 1 435 13 is_stmt 1 view .LVU92
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 360              		.loc 1 435 40 is_stmt 0 view .LVU93
 361 0174 B5F8F830 		ldrh	r3, [r5, #248]
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 362              		.loc 1 435 61 view .LVU94
 363 0178 3422     		movs	r2, #52
 364 017a 02FB0355 		mla	r5, r2, r3, r5
 365              	.LVL27:
 435:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 366              		.loc 1 435 61 view .LVU95
 367 017e 0123     		movs	r3, #1
 368 0180 85F89030 		strb	r3, [r5, #144]
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 369              		.loc 1 436 13 is_stmt 1 view .LVU96
 436:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 370              		.loc 1 436 61 is_stmt 0 view .LVU97
 371 0184 0223     		movs	r3, #2
 372 0186 85F89130 		strb	r3, [r5, #145]
 373 018a 72E7     		b	.L6
 374              	.LVL28:
 375              	.L32:
 404:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device ready");
 376              		.loc 1 404 13 is_stmt 1 view .LVU98
 404:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device ready");
 377              		.loc 1 404 69 is_stmt 0 view .LVU99
 378 018c 3422     		movs	r2, #52
 379 018e 02FB0353 		mla	r3, r2, r3, r5
 380 0192 0122     		movs	r2, #1
 381 0194 83F8C120 		strb	r2, [r3, #193]
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 382              		.loc 1 405 13 is_stmt 1 view .LVU100
 383 0198 9148     		ldr	r0, .L38+16
 384              	.LVL29:
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 385              		.loc 1 405 13 is_stmt 0 view .LVU101
 386 019a FFF7FEFF 		bl	printf
 387              	.LVL30:
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 388              		.loc 1 405 13 is_stmt 1 view .LVU102
 389 019e 0A20     		movs	r0, #10
 390 01a0 FFF7FEFF 		bl	putchar
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 20


 391              	.LVL31:
 405:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 392              		.loc 1 405 45 view .LVU103
 393 01a4 D4E7     		b	.L18
 394              	.L33:
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 395              		.loc 1 418 11 view .LVU104
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 396              		.loc 1 418 42 is_stmt 0 view .LVU105
 397 01a6 B5F8F830 		ldrh	r3, [r5, #248]
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 398              		.loc 1 418 56 view .LVU106
 399 01aa 3422     		movs	r2, #52
 400 01ac 02FB0352 		mla	r2, r2, r3, r5
 401 01b0 92F89220 		ldrb	r2, [r2, #146]	@ zero_extendqisi2
 418:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 402              		.loc 1 418 13 view .LVU107
 403 01b4 022A     		cmp	r2, #2
 404 01b6 14D1     		bne	.L34
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 405              		.loc 1 425 13 is_stmt 1 view .LVU108
 425:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 406              		.loc 1 425 69 is_stmt 0 view .LVU109
 407 01b8 3422     		movs	r2, #52
 408 01ba 02FB0353 		mla	r3, r2, r3, r5
 409 01be 0022     		movs	r2, #0
 410 01c0 83F8C120 		strb	r2, [r3, #193]
 411              	.L21:
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 412              		.loc 1 427 11 is_stmt 1 view .LVU110
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 413              		.loc 1 427 38 is_stmt 0 view .LVU111
 414 01c4 B5F8F830 		ldrh	r3, [r5, #248]
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 415              		.loc 1 427 59 view .LVU112
 416 01c8 3422     		movs	r2, #52
 417 01ca 02FB0355 		mla	r5, r2, r3, r5
 418              	.LVL32:
 427:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_NOT_READY;
 419              		.loc 1 427 59 view .LVU113
 420 01ce 0523     		movs	r3, #5
 421 01d0 85F89030 		strb	r3, [r5, #144]
 428:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 422              		.loc 1 428 11 is_stmt 1 view .LVU114
 428:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].prev_ready_state = USBH_FAIL;
 423              		.loc 1 428 59 is_stmt 0 view .LVU115
 424 01d4 0123     		movs	r3, #1
 425 01d6 85F89130 		strb	r3, [r5, #145]
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 426              		.loc 1 429 11 is_stmt 1 view .LVU116
 429:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 427              		.loc 1 429 70 is_stmt 0 view .LVU117
 428 01da 0223     		movs	r3, #2
 429 01dc 85F89230 		strb	r3, [r5, #146]
 430 01e0 47E7     		b	.L6
 431              	.LVL33:
 432              	.L34:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 21


 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device NOT ready");
 433              		.loc 1 420 13 is_stmt 1 view .LVU118
 420:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("MSC Device NOT ready");
 434              		.loc 1 420 69 is_stmt 0 view .LVU119
 435 01e2 3422     		movs	r2, #52
 436 01e4 02FB0353 		mla	r3, r2, r3, r5
 437 01e8 0122     		movs	r2, #1
 438 01ea 83F8C120 		strb	r2, [r3, #193]
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 439              		.loc 1 421 13 is_stmt 1 view .LVU120
 440 01ee 7D48     		ldr	r0, .L38+20
 441 01f0 FFF7FEFF 		bl	printf
 442              	.LVL34:
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 443              		.loc 1 421 13 view .LVU121
 444 01f4 0A20     		movs	r0, #10
 445 01f6 FFF7FEFF 		bl	putchar
 446              	.LVL35:
 421:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 447              		.loc 1 421 49 view .LVU122
 448 01fa E3E7     		b	.L21
 449              	.LVL36:
 450              	.L11:
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 451              		.loc 1 442 9 view .LVU123
 442:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 452              		.loc 1 442 23 is_stmt 0 view .LVU124
 453 01fc 3422     		movs	r2, #52
 454 01fe 02FB01F2 		mul	r2, r2, r1
 455 0202 9032     		adds	r2, r2, #144
 456 0204 2A44     		add	r2, r2, r5
 457 0206 0432     		adds	r2, r2, #4
 458 0208 C9B2     		uxtb	r1, r1
 459 020a FFF7FEFF 		bl	USBH_MSC_SCSI_ReadCapacity
 460              	.LVL37:
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 461              		.loc 1 444 9 is_stmt 1 view .LVU125
 444:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 462              		.loc 1 444 11 is_stmt 0 view .LVU126
 463 020e 0028     		cmp	r0, #0
 464 0210 3FD1     		bne	.L22
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 465              		.loc 1 446 11 is_stmt 1 view .LVU127
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 466              		.loc 1 446 41 is_stmt 0 view .LVU128
 467 0212 B5F8F820 		ldrh	r2, [r5, #248]
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 468              		.loc 1 446 55 view .LVU129
 469 0216 3423     		movs	r3, #52
 470 0218 03FB0253 		mla	r3, r3, r2, r5
 471 021c 93F8C130 		ldrb	r3, [r3, #193]	@ zero_extendqisi2
 446:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 472              		.loc 1 446 13 view .LVU130
 473 0220 012B     		cmp	r3, #1
 474 0222 0ED0     		beq	.L35
 475              	.LVL38:
 476              	.L23:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 22


 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 477              		.loc 1 451 121 is_stmt 1 discriminator 1 view .LVU131
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 478              		.loc 1 453 11 discriminator 1 view .LVU132
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 479              		.loc 1 453 38 is_stmt 0 discriminator 1 view .LVU133
 480 0224 B5F8F830 		ldrh	r3, [r5, #248]
 453:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_OK;
 481              		.loc 1 453 59 discriminator 1 view .LVU134
 482 0228 3422     		movs	r2, #52
 483 022a 02FB0352 		mla	r2, r2, r3, r5
 484 022e 0121     		movs	r1, #1
 485 0230 82F89010 		strb	r1, [r2, #144]
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 486              		.loc 1 454 11 is_stmt 1 discriminator 1 view .LVU135
 454:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 487              		.loc 1 454 59 is_stmt 0 discriminator 1 view .LVU136
 488 0234 0021     		movs	r1, #0
 489 0236 82F89110 		strb	r1, [r2, #145]
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 490              		.loc 1 455 11 is_stmt 1 discriminator 1 view .LVU137
 455:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 491              		.loc 1 455 34 is_stmt 0 discriminator 1 view .LVU138
 492 023a 0133     		adds	r3, r3, #1
 493 023c A5F8F830 		strh	r3, [r5, #248]	@ movhi
 494 0240 17E7     		b	.L6
 495              	.LVL39:
 496              	.L35:
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr * MSC_Handle->
 497              		.loc 1 448 13 is_stmt 1 view .LVU139
 498 0242 3426     		movs	r6, #52
 499 0244 06FB0252 		mla	r2, r6, r2, r5
 500 0248 D2F89430 		ldr	r3, [r2, #148]
 501 024c B2F89810 		ldrh	r1, [r2, #152]
 502 0250 01FB03F1 		mul	r1, r1, r3
 503 0254 6448     		ldr	r0, .L38+24
 504              	.LVL40:
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr * MSC_Handle->
 505              		.loc 1 448 13 is_stmt 0 view .LVU140
 506 0256 FFF7FEFF 		bl	printf
 507              	.LVL41:
 448:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].capacity.block_nbr * MSC_Handle->
 508              		.loc 1 448 13 is_stmt 1 view .LVU141
 509 025a 0A20     		movs	r0, #10
 510 025c FFF7FEFF 		bl	putchar
 511              	.LVL42:
 449:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block number : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
 512              		.loc 1 449 151 view .LVU142
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
 513              		.loc 1 450 13 view .LVU143
 514 0260 B5F8F830 		ldrh	r3, [r5, #248]
 515 0264 06FB0353 		mla	r3, r6, r3, r5
 516 0268 D3F89410 		ldr	r1, [r3, #148]
 517 026c 5F48     		ldr	r0, .L38+28
 518 026e FFF7FEFF 		bl	printf
 519              	.LVL43:
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 23


 520              		.loc 1 450 13 view .LVU144
 521 0272 0A20     		movs	r0, #10
 522 0274 FFF7FEFF 		bl	putchar
 523              	.LVL44:
 450:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             USBH_UsrLog ("Block Size   : %lu", (int32_t)(MSC_Handle->unit[MSC_Handle->current_lun].
 524              		.loc 1 450 120 view .LVU145
 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 525              		.loc 1 451 13 view .LVU146
 526 0278 B5F8F830 		ldrh	r3, [r5, #248]
 527 027c 06FB0353 		mla	r3, r6, r3, r5
 528 0280 B3F89810 		ldrh	r1, [r3, #152]
 529 0284 5A48     		ldr	r0, .L38+32
 530 0286 FFF7FEFF 		bl	printf
 531              	.LVL45:
 451:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 532              		.loc 1 451 13 view .LVU147
 533 028a 0A20     		movs	r0, #10
 534 028c FFF7FEFF 		bl	putchar
 535              	.LVL46:
 536 0290 C8E7     		b	.L23
 537              	.LVL47:
 538              	.L22:
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 539              		.loc 1 457 14 view .LVU148
 457:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 540              		.loc 1 457 16 is_stmt 0 view .LVU149
 541 0292 0228     		cmp	r0, #2
 542 0294 0ED0     		beq	.L36
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 543              		.loc 1 463 11 is_stmt 1 view .LVU150
 463:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 544              		.loc 1 463 13 is_stmt 0 view .LVU151
 545 0296 0428     		cmp	r0, #4
 546 0298 7FF4EBAE 		bne	.L6
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 547              		.loc 1 465 13 is_stmt 1 view .LVU152
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 548              		.loc 1 465 40 is_stmt 0 view .LVU153
 549 029c B5F8F830 		ldrh	r3, [r5, #248]
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 550              		.loc 1 465 61 view .LVU154
 551 02a0 3422     		movs	r2, #52
 552 02a2 02FB0355 		mla	r5, r2, r3, r5
 553              	.LVL48:
 465:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 554              		.loc 1 465 61 view .LVU155
 555 02a6 0123     		movs	r3, #1
 556 02a8 85F89030 		strb	r3, [r5, #144]
 466:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 557              		.loc 1 466 13 is_stmt 1 view .LVU156
 466:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 558              		.loc 1 466 61 is_stmt 0 view .LVU157
 559 02ac 0223     		movs	r3, #2
 560 02ae 85F89130 		strb	r3, [r5, #145]
 561 02b2 DEE6     		b	.L6
 562              	.LVL49:
 563              	.L36:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 24


 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 564              		.loc 1 459 11 is_stmt 1 view .LVU158
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 565              		.loc 1 459 38 is_stmt 0 view .LVU159
 566 02b4 B5F8F830 		ldrh	r3, [r5, #248]
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 567              		.loc 1 459 59 view .LVU160
 568 02b8 3422     		movs	r2, #52
 569 02ba 02FB0355 		mla	r5, r2, r3, r5
 570              	.LVL50:
 459:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 571              		.loc 1 459 59 view .LVU161
 572 02be 0523     		movs	r3, #5
 573 02c0 85F89030 		strb	r3, [r5, #144]
 574 02c4 D5E6     		b	.L6
 575              	.LVL51:
 576              	.L9:
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 577              		.loc 1 472 9 is_stmt 1 view .LVU162
 472:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 578              		.loc 1 472 23 is_stmt 0 view .LVU163
 579 02c6 3422     		movs	r2, #52
 580 02c8 02FB01F2 		mul	r2, r2, r1
 581 02cc 9832     		adds	r2, r2, #152
 582 02ce 2A44     		add	r2, r2, r5
 583 02d0 0432     		adds	r2, r2, #4
 584 02d2 C9B2     		uxtb	r1, r1
 585 02d4 FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 586              	.LVL52:
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 587              		.loc 1 474 9 is_stmt 1 view .LVU164
 474:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 588              		.loc 1 474 11 is_stmt 0 view .LVU165
 589 02d8 0646     		mov	r6, r0
 590 02da 0028     		cmp	r0, #0
 591 02dc 43D1     		bne	.L25
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****              (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY) )
 592              		.loc 1 476 11 is_stmt 1 view .LVU166
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****              (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY) )
 593              		.loc 1 476 42 is_stmt 0 view .LVU167
 594 02de B5F8F820 		ldrh	r2, [r5, #248]
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****              (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY) )
 595              		.loc 1 476 62 view .LVU168
 596 02e2 3423     		movs	r3, #52
 597 02e4 03FB0253 		mla	r3, r3, r2, r5
 598 02e8 93F89C10 		ldrb	r1, [r3, #156]	@ zero_extendqisi2
 476:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****              (MSC_Handle->unit[MSC_Handle->current_lun].sense.key == SCSI_SENSE_KEY_NOT_READY) )
 599              		.loc 1 476 13 view .LVU169
 600 02ec 0229     		cmp	r1, #2
 601 02ee 18BF     		it	ne
 602 02f0 0629     		cmpne	r1, #6
 603 02f2 0FD1     		bne	.L26
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 604              		.loc 1 480 13 is_stmt 1 view .LVU170
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 605              		.loc 1 480 22 is_stmt 0 view .LVU171
 606 02f4 D4F8BC33 		ldr	r3, [r4, #956]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 25


 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 607              		.loc 1 480 42 view .LVU172
 608 02f8 D5F8FC00 		ldr	r0, [r5, #252]
 609              	.LVL53:
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 610              		.loc 1 480 30 view .LVU173
 611 02fc 1B1A     		subs	r3, r3, r0
 480:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             {
 612              		.loc 1 480 15 view .LVU174
 613 02fe 42F20F70 		movw	r0, #9999
 614 0302 8342     		cmp	r3, r0
 615 0304 06D8     		bhi	.L26
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               break;
 616              		.loc 1 482 15 is_stmt 1 view .LVU175
 482:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****               break;
 617              		.loc 1 482 63 is_stmt 0 view .LVU176
 618 0306 3423     		movs	r3, #52
 619 0308 03FB0252 		mla	r2, r3, r2, r5
 620 030c 0223     		movs	r3, #2
 621 030e 82F89030 		strb	r3, [r2, #144]
 483:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             }
 622              		.loc 1 483 15 is_stmt 1 view .LVU177
 623 0312 AEE6     		b	.L6
 624              	.L26:
 487:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].sens
 625              		.loc 1 487 11 view .LVU178
 626 0314 3748     		ldr	r0, .L38+36
 627 0316 FFF7FEFF 		bl	printf
 628              	.LVL54:
 487:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].sens
 629              		.loc 1 487 11 view .LVU179
 630 031a 0A20     		movs	r0, #10
 631 031c FFF7FEFF 		bl	putchar
 632              	.LVL55:
 487:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[MSC_Handle->current_lun].sens
 633              		.loc 1 487 95 view .LVU180
 488:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->current_
 634              		.loc 1 488 11 view .LVU181
 635 0320 B5F8F830 		ldrh	r3, [r5, #248]
 636 0324 3427     		movs	r7, #52
 637 0326 07FB0353 		mla	r3, r7, r3, r5
 638 032a 93F89D10 		ldrb	r1, [r3, #157]	@ zero_extendqisi2
 639 032e 3248     		ldr	r0, .L38+40
 640 0330 FFF7FEFF 		bl	printf
 641              	.LVL56:
 488:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->current_
 642              		.loc 1 488 11 view .LVU182
 643 0334 0A20     		movs	r0, #10
 644 0336 FFF7FEFF 		bl	putchar
 645              	.LVL57:
 488:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[MSC_Handle->current_
 646              		.loc 1 488 106 view .LVU183
 489:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 647              		.loc 1 489 11 view .LVU184
 648 033a B5F8F830 		ldrh	r3, [r5, #248]
 649 033e 07FB0353 		mla	r3, r7, r3, r5
 650 0342 93F89E10 		ldrb	r1, [r3, #158]	@ zero_extendqisi2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 26


 651 0346 2D48     		ldr	r0, .L38+44
 652 0348 FFF7FEFF 		bl	printf
 653              	.LVL58:
 489:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 654              		.loc 1 489 11 view .LVU185
 655 034c 0A20     		movs	r0, #10
 656 034e FFF7FEFF 		bl	putchar
 657              	.LVL59:
 489:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_IDLE;
 658              		.loc 1 489 116 view .LVU186
 490:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 659              		.loc 1 490 11 view .LVU187
 490:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 660              		.loc 1 490 38 is_stmt 0 view .LVU188
 661 0352 B5F8F830 		ldrh	r3, [r5, #248]
 490:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->current_lun++;
 662              		.loc 1 490 59 view .LVU189
 663 0356 07FB0357 		mla	r7, r7, r3, r5
 664 035a 0122     		movs	r2, #1
 665 035c 87F89020 		strb	r2, [r7, #144]
 491:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 666              		.loc 1 491 11 is_stmt 1 view .LVU190
 491:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 667              		.loc 1 491 34 is_stmt 0 view .LVU191
 668 0360 1344     		add	r3, r3, r2
 669 0362 A5F8F830 		strh	r3, [r5, #248]	@ movhi
 670              	.L25:
 493:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 671              		.loc 1 493 9 is_stmt 1 view .LVU192
 493:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         {
 672              		.loc 1 493 11 is_stmt 0 view .LVU193
 673 0366 022E     		cmp	r6, #2
 674 0368 0ED0     		beq	.L37
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 675              		.loc 1 500 11 is_stmt 1 view .LVU194
 500:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           {
 676              		.loc 1 500 13 is_stmt 0 view .LVU195
 677 036a 042E     		cmp	r6, #4
 678 036c 7FF481AE 		bne	.L6
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 679              		.loc 1 502 13 is_stmt 1 view .LVU196
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 680              		.loc 1 502 40 is_stmt 0 view .LVU197
 681 0370 B5F8F830 		ldrh	r3, [r5, #248]
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 682              		.loc 1 502 61 view .LVU198
 683 0374 3422     		movs	r2, #52
 684 0376 02FB0355 		mla	r5, r2, r3, r5
 685              	.LVL60:
 502:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****             MSC_Handle->unit[MSC_Handle->current_lun].error = MSC_ERROR;
 686              		.loc 1 502 61 view .LVU199
 687 037a 0123     		movs	r3, #1
 688 037c 85F89030 		strb	r3, [r5, #144]
 503:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 689              		.loc 1 503 13 is_stmt 1 view .LVU200
 503:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           }
 690              		.loc 1 503 61 is_stmt 0 view .LVU201
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 27


 691 0380 0223     		movs	r3, #2
 692 0382 85F89130 		strb	r3, [r5, #145]
 693 0386 74E6     		b	.L6
 694              	.LVL61:
 695              	.L37:
 495:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 696              		.loc 1 495 11 is_stmt 1 view .LVU202
 697 0388 1648     		ldr	r0, .L38+20
 698 038a FFF7FEFF 		bl	printf
 699              	.LVL62:
 495:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 700              		.loc 1 495 11 view .LVU203
 701 038e 0A20     		movs	r0, #10
 702 0390 FFF7FEFF 		bl	putchar
 703              	.LVL63:
 495:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****           MSC_Handle->unit[MSC_Handle->current_lun].state = MSC_UNRECOVERED_ERROR;
 704              		.loc 1 495 47 view .LVU204
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 705              		.loc 1 496 11 view .LVU205
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 706              		.loc 1 496 38 is_stmt 0 view .LVU206
 707 0394 B5F8F830 		ldrh	r3, [r5, #248]
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 708              		.loc 1 496 59 view .LVU207
 709 0398 3422     		movs	r2, #52
 710 039a 02FB0355 		mla	r5, r2, r3, r5
 711              	.LVL64:
 496:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         }
 712              		.loc 1 496 59 view .LVU208
 713 039e 0823     		movs	r3, #8
 714 03a0 85F89030 		strb	r3, [r5, #144]
 715 03a4 65E6     		b	.L6
 716              	.LVL65:
 717              	.L7:
 509:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 718              		.loc 1 509 9 is_stmt 1 view .LVU209
 509:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         break;
 719              		.loc 1 509 32 is_stmt 0 view .LVU210
 720 03a6 0131     		adds	r1, r1, #1
 721 03a8 A5F8F810 		strh	r1, [r5, #248]	@ movhi
 510:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 722              		.loc 1 510 9 is_stmt 1 view .LVU211
 723 03ac 61E6     		b	.L6
 724              	.L5:
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_IDLE;
 725              		.loc 1 522 7 view .LVU212
 522:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_IDLE;
 726              		.loc 1 522 31 is_stmt 0 view .LVU213
 727 03ae 0022     		movs	r2, #0
 728 03b0 A5F8F820 		strh	r2, [r5, #248]	@ movhi
 523:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 729              		.loc 1 523 5 is_stmt 1 view .LVU214
 523:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 730              		.loc 1 523 23 is_stmt 0 view .LVU215
 731 03b4 0126     		movs	r6, #1
 732 03b6 2E73     		strb	r6, [r5, #12]
 525:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 28


 733              		.loc 1 525 5 is_stmt 1 view .LVU216
 734 03b8 0421     		movs	r1, #4
 735 03ba D0F8CC03 		ldr	r0, [r0, #972]
 736              	.LVL66:
 525:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 737              		.loc 1 525 5 is_stmt 0 view .LVU217
 738 03be FFF7FEFF 		bl	osMessagePut
 739              	.LVL67:
 527:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 740              		.loc 1 527 5 is_stmt 1 view .LVU218
 527:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 741              		.loc 1 527 10 is_stmt 0 view .LVU219
 742 03c2 D4F8C833 		ldr	r3, [r4, #968]
 527:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 743              		.loc 1 527 5 view .LVU220
 744 03c6 0221     		movs	r1, #2
 745 03c8 2046     		mov	r0, r4
 746 03ca 9847     		blx	r3
 747              	.LVL68:
 352:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 748              		.loc 1 352 22 view .LVU221
 749 03cc 3046     		mov	r0, r6
 750 03ce 21E6     		b	.L4
 751              	.L39:
 752              		.align	2
 753              	.L38:
 754 03d0 00000000 		.word	.LC0
 755 03d4 0C000000 		.word	.LC1
 756 03d8 24000000 		.word	.LC2
 757 03dc 3C000000 		.word	.LC3
 758 03e0 54000000 		.word	.LC4
 759 03e4 68000000 		.word	.LC5
 760 03e8 80000000 		.word	.LC6
 761 03ec A0000000 		.word	.LC7
 762 03f0 B4000000 		.word	.LC8
 763 03f4 C8000000 		.word	.LC9
 764 03f8 D8000000 		.word	.LC10
 765 03fc F4000000 		.word	.LC11
 766              	.LVL69:
 767              	.L28:
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 768              		.loc 1 356 3 view .LVU222
 769 0400 0120     		movs	r0, #1
 770              	.LVL70:
 356:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 771              		.loc 1 356 3 view .LVU223
 772 0402 07E6     		b	.L4
 773              		.cfi_endproc
 774              	.LFE146:
 776              		.section	.rodata.USBH_MSC_ClassRequest.str1.4,"aMS",%progbits,1
 777              		.align	2
 778              	.LC12:
 779 0000 4E756D62 		.ascii	"Number of supported LUN: %lu\000"
 779      6572206F 
 779      66207375 
 779      70706F72 
 779      74656420 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 29


 780              		.section	.text.USBH_MSC_ClassRequest,"ax",%progbits
 781              		.align	1
 782              		.syntax unified
 783              		.thumb
 784              		.thumb_func
 785              		.fpu fpv5-sp-d16
 787              	USBH_MSC_ClassRequest:
 788              	.LVL71:
 789              	.LFB145:
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 790              		.loc 1 294 1 is_stmt 1 view -0
 791              		.cfi_startproc
 792              		@ args = 0, pretend = 0, frame = 0
 793              		@ frame_needed = 0, uses_anonymous_args = 0
 294:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 794              		.loc 1 294 1 is_stmt 0 view .LVU225
 795 0000 38B5     		push	{r3, r4, r5, lr}
 796              	.LCFI1:
 797              		.cfi_def_cfa_offset 16
 798              		.cfi_offset 3, -16
 799              		.cfi_offset 4, -12
 800              		.cfi_offset 5, -8
 801              		.cfi_offset 14, -4
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 802              		.loc 1 295 3 is_stmt 1 view .LVU226
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 803              		.loc 1 295 63 is_stmt 0 view .LVU227
 804 0002 D0F87833 		ldr	r3, [r0, #888]
 295:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_BUSY;
 805              		.loc 1 295 22 view .LVU228
 806 0006 DC69     		ldr	r4, [r3, #28]
 807              	.LVL72:
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 808              		.loc 1 296 3 is_stmt 1 view .LVU229
 297:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 809              		.loc 1 297 3 view .LVU230
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 810              		.loc 1 300 3 view .LVU231
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 811              		.loc 1 300 21 is_stmt 0 view .LVU232
 812 0008 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 300:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 813              		.loc 1 300 3 view .LVU233
 814 000a 022B     		cmp	r3, #2
 815 000c 05D0     		beq	.L41
 816 000e 032B     		cmp	r3, #3
 817 0010 2CD0     		beq	.L42
 818 0012 13B1     		cbz	r3, .L41
 819 0014 0125     		movs	r5, #1
 820              	.LVL73:
 821              	.L43:
 340:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 822              		.loc 1 340 3 is_stmt 1 view .LVU234
 341:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 823              		.loc 1 341 1 is_stmt 0 view .LVU235
 824 0016 2846     		mov	r0, r5
 825 0018 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 30


 826              	.LVL74:
 827              	.L41:
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 828              		.loc 1 305 5 is_stmt 1 view .LVU236
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 829              		.loc 1 305 14 is_stmt 0 view .LVU237
 830 001a 2146     		mov	r1, r4
 831 001c FFF7FEFF 		bl	USBH_MSC_BOT_REQ_GetMaxLUN
 832              	.LVL75:
 305:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 833              		.loc 1 305 14 view .LVU238
 834 0020 0546     		mov	r5, r0
 835              	.LVL76:
 309:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 836              		.loc 1 309 5 is_stmt 1 view .LVU239
 309:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 837              		.loc 1 309 7 is_stmt 0 view .LVU240
 838 0022 0328     		cmp	r0, #3
 839 0024 02D0     		beq	.L53
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 840              		.loc 1 315 5 is_stmt 1 view .LVU241
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 841              		.loc 1 315 7 is_stmt 0 view .LVU242
 842 0026 0028     		cmp	r0, #0
 843 0028 F5D1     		bne	.L43
 844 002a 01E0     		b	.L45
 845              	.L53:
 311:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       status = USBH_OK;
 846              		.loc 1 311 7 is_stmt 1 view .LVU243
 311:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       status = USBH_OK;
 847              		.loc 1 311 27 is_stmt 0 view .LVU244
 848 002c 0025     		movs	r5, #0
 849 002e 2560     		str	r5, [r4]
 312:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 850              		.loc 1 312 7 is_stmt 1 view .LVU245
 851              	.LVL77:
 315:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 852              		.loc 1 315 5 view .LVU246
 853              	.L45:
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 854              		.loc 1 317 7 view .LVU247
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 855              		.loc 1 317 40 is_stmt 0 view .LVU248
 856 0030 2168     		ldr	r1, [r4]
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 857              		.loc 1 317 90 view .LVU249
 858 0032 0229     		cmp	r1, #2
 859 0034 18D8     		bhi	.L50
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 860              		.loc 1 317 90 discriminator 1 view .LVU250
 861 0036 C9B2     		uxtb	r1, r1
 862 0038 0131     		adds	r1, r1, #1
 863              	.L46:
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
 864              		.loc 1 317 27 discriminator 4 view .LVU251
 865 003a 2160     		str	r1, [r4]
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 31


 866              		.loc 1 318 7 is_stmt 1 discriminator 4 view .LVU252
 867 003c 1048     		ldr	r0, .L54
 868 003e FFF7FEFF 		bl	printf
 869              	.LVL78:
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 870              		.loc 1 318 7 discriminator 4 view .LVU253
 871 0042 0A20     		movs	r0, #10
 872 0044 FFF7FEFF 		bl	putchar
 873              	.LVL79:
 318:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 874              		.loc 1 318 83 discriminator 4 view .LVU254
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 875              		.loc 1 320 7 discriminator 4 view .LVU255
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 876              		.loc 1 320 13 is_stmt 0 discriminator 4 view .LVU256
 877 0048 0023     		movs	r3, #0
 878              	.LVL80:
 879              	.L47:
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 880              		.loc 1 320 19 is_stmt 1 discriminator 1 view .LVU257
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 881              		.loc 1 320 33 is_stmt 0 discriminator 1 view .LVU258
 882 004a 2268     		ldr	r2, [r4]
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 883              		.loc 1 320 7 discriminator 1 view .LVU259
 884 004c 9342     		cmp	r3, r2
 885 004e E2D2     		bcs	.L43
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[i].state_changed = 0U;
 886              		.loc 1 322 9 is_stmt 1 discriminator 3 view .LVU260
 322:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[i].state_changed = 0U;
 887              		.loc 1 322 46 is_stmt 0 discriminator 3 view .LVU261
 888 0050 3422     		movs	r2, #52
 889 0052 02FB0342 		mla	r2, r2, r3, r4
 890 0056 0221     		movs	r1, #2
 891 0058 82F89210 		strb	r1, [r2, #146]
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 892              		.loc 1 323 9 is_stmt 1 discriminator 3 view .LVU262
 323:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 893              		.loc 1 323 43 is_stmt 0 discriminator 3 view .LVU263
 894 005c 0021     		movs	r1, #0
 895 005e 82F8C110 		strb	r1, [r2, #193]
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 896              		.loc 1 320 44 is_stmt 1 discriminator 3 view .LVU264
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 897              		.loc 1 320 45 is_stmt 0 discriminator 3 view .LVU265
 898 0062 0133     		adds	r3, r3, #1
 899              	.LVL81:
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 900              		.loc 1 320 45 discriminator 3 view .LVU266
 901 0064 DBB2     		uxtb	r3, r3
 902              	.LVL82:
 320:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 903              		.loc 1 320 45 discriminator 3 view .LVU267
 904 0066 F0E7     		b	.L47
 905              	.LVL83:
 906              	.L50:
 317:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Number of supported LUN: %lu", (int32_t)(MSC_Handle->max_lun));
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 32


 907              		.loc 1 317 90 view .LVU268
 908 0068 0221     		movs	r1, #2
 909 006a E6E7     		b	.L46
 910              	.LVL84:
 911              	.L42:
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 912              		.loc 1 330 5 is_stmt 1 view .LVU269
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 913              		.loc 1 330 8 is_stmt 0 view .LVU270
 914 006c 0021     		movs	r1, #0
 915 006e FFF7FEFF 		bl	USBH_ClrFeature
 916              	.LVL85:
 330:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 917              		.loc 1 330 7 view .LVU271
 918 0072 18B9     		cbnz	r0, .L51
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 919              		.loc 1 332 7 is_stmt 1 view .LVU272
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 920              		.loc 1 332 41 is_stmt 0 view .LVU273
 921 0074 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 332:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 922              		.loc 1 332 29 view .LVU274
 923 0076 A373     		strb	r3, [r4, #14]
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 924              		.loc 1 296 22 view .LVU275
 925 0078 0125     		movs	r5, #1
 926 007a CCE7     		b	.L43
 927              	.L51:
 296:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t i;
 928              		.loc 1 296 22 view .LVU276
 929 007c 0125     		movs	r5, #1
 930 007e CAE7     		b	.L43
 931              	.L55:
 932              		.align	2
 933              	.L54:
 934 0080 00000000 		.word	.LC12
 935              		.cfi_endproc
 936              	.LFE145:
 938              		.section	.text.USBH_MSC_InterfaceDeInit,"ax",%progbits
 939              		.align	1
 940              		.syntax unified
 941              		.thumb
 942              		.thumb_func
 943              		.fpu fpv5-sp-d16
 945              	USBH_MSC_InterfaceDeInit:
 946              	.LVL86:
 947              	.LFB144:
 260:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 948              		.loc 1 260 1 is_stmt 1 view -0
 949              		.cfi_startproc
 950              		@ args = 0, pretend = 0, frame = 0
 951              		@ frame_needed = 0, uses_anonymous_args = 0
 260:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 952              		.loc 1 260 1 is_stmt 0 view .LVU278
 953 0000 38B5     		push	{r3, r4, r5, lr}
 954              	.LCFI2:
 955              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 33


 956              		.cfi_offset 3, -16
 957              		.cfi_offset 4, -12
 958              		.cfi_offset 5, -8
 959              		.cfi_offset 14, -4
 960 0002 0446     		mov	r4, r0
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 961              		.loc 1 261 3 is_stmt 1 view .LVU279
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 962              		.loc 1 261 63 is_stmt 0 view .LVU280
 963 0004 D0F87833 		ldr	r3, [r0, #888]
 261:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 964              		.loc 1 261 22 view .LVU281
 965 0008 DD69     		ldr	r5, [r3, #28]
 966              	.LVL87:
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 967              		.loc 1 263 3 is_stmt 1 view .LVU282
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 968              		.loc 1 263 18 is_stmt 0 view .LVU283
 969 000a 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 263:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 970              		.loc 1 263 6 view .LVU284
 971 000c 69B9     		cbnz	r1, .L61
 972              	.LVL88:
 973              	.L57:
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 974              		.loc 1 270 3 is_stmt 1 view .LVU285
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 975              		.loc 1 270 18 is_stmt 0 view .LVU286
 976 000e 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 270:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 977              		.loc 1 270 6 view .LVU287
 978 0010 A1B9     		cbnz	r1, .L62
 979              	.L58:
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 980              		.loc 1 277 3 is_stmt 1 view .LVU288
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 981              		.loc 1 277 11 is_stmt 0 view .LVU289
 982 0012 D4F87833 		ldr	r3, [r4, #888]
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 983              		.loc 1 277 25 view .LVU290
 984 0016 D869     		ldr	r0, [r3, #28]
 277:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 985              		.loc 1 277 5 view .LVU291
 986 0018 28B1     		cbz	r0, .L59
 279:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     phost->pActiveClass->pData = 0;
 987              		.loc 1 279 5 is_stmt 1 view .LVU292
 988 001a FFF7FEFF 		bl	free
 989              	.LVL89:
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 990              		.loc 1 280 5 view .LVU293
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 991              		.loc 1 280 10 is_stmt 0 view .LVU294
 992 001e D4F87833 		ldr	r3, [r4, #888]
 280:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 993              		.loc 1 280 32 view .LVU295
 994 0022 0022     		movs	r2, #0
 995 0024 DA61     		str	r2, [r3, #28]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 34


 996              	.L59:
 283:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 997              		.loc 1 283 3 is_stmt 1 view .LVU296
 284:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 998              		.loc 1 284 1 is_stmt 0 view .LVU297
 999 0026 0020     		movs	r0, #0
 1000 0028 38BD     		pop	{r3, r4, r5, pc}
 1001              	.LVL90:
 1002              	.L61:
 265:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe  (phost, MSC_Handle->OutPipe);
 1003              		.loc 1 265 5 is_stmt 1 view .LVU298
 1004 002a FFF7FEFF 		bl	USBH_ClosePipe
 1005              	.LVL91:
 266:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = 0U;     /* Reset the Channel as Free */
 1006              		.loc 1 266 5 view .LVU299
 1007 002e 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 1008 0030 2046     		mov	r0, r4
 1009 0032 FFF7FEFF 		bl	USBH_FreePipe
 1010              	.LVL92:
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1011              		.loc 1 267 5 view .LVU300
 267:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1012              		.loc 1 267 25 is_stmt 0 view .LVU301
 1013 0036 0023     		movs	r3, #0
 1014 0038 6B71     		strb	r3, [r5, #5]
 1015 003a E8E7     		b	.L57
 1016              	.L62:
 272:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_FreePipe  (phost, MSC_Handle->InPipe);
 1017              		.loc 1 272 5 is_stmt 1 view .LVU302
 1018 003c 2046     		mov	r0, r4
 1019 003e FFF7FEFF 		bl	USBH_ClosePipe
 1020              	.LVL93:
 273:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = 0U;     /* Reset the Channel as Free */
 1021              		.loc 1 273 5 view .LVU303
 1022 0042 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 1023 0044 2046     		mov	r0, r4
 1024 0046 FFF7FEFF 		bl	USBH_FreePipe
 1025              	.LVL94:
 274:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1026              		.loc 1 274 5 view .LVU304
 274:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1027              		.loc 1 274 24 is_stmt 0 view .LVU305
 1028 004a 0023     		movs	r3, #0
 1029 004c 2B71     		strb	r3, [r5, #4]
 1030 004e E0E7     		b	.L58
 1031              		.cfi_endproc
 1032              	.LFE144:
 1034              		.section	.rodata.USBH_MSC_InterfaceInit.str1.4,"aMS",%progbits,1
 1035              		.align	2
 1036              	.LC13:
 1037 0000 44454255 		.ascii	"DEBUG : \000"
 1037      47203A20 
 1037      00
 1038 0009 000000   		.align	2
 1039              	.LC14:
 1040 000c 43616E6E 		.ascii	"Cannot Find the interface for %s class.\000"
 1040      6F742046 
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 35


 1040      696E6420 
 1040      74686520 
 1040      696E7465 
 1041              		.section	.text.USBH_MSC_InterfaceInit,"ax",%progbits
 1042              		.align	1
 1043              		.syntax unified
 1044              		.thumb
 1045              		.thumb_func
 1046              		.fpu fpv5-sp-d16
 1048              	USBH_MSC_InterfaceInit:
 1049              	.LVL95:
 1050              	.LFB143:
 175:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface = 0U;
 1051              		.loc 1 175 1 is_stmt 1 view -0
 1052              		.cfi_startproc
 1053              		@ args = 0, pretend = 0, frame = 0
 1054              		@ frame_needed = 0, uses_anonymous_args = 0
 175:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t interface = 0U;
 1055              		.loc 1 175 1 is_stmt 0 view .LVU307
 1056 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1057              	.LCFI3:
 1058              		.cfi_def_cfa_offset 20
 1059              		.cfi_offset 4, -20
 1060              		.cfi_offset 5, -16
 1061              		.cfi_offset 6, -12
 1062              		.cfi_offset 7, -8
 1063              		.cfi_offset 14, -4
 1064 0002 85B0     		sub	sp, sp, #20
 1065              	.LCFI4:
 1066              		.cfi_def_cfa_offset 40
 1067 0004 0446     		mov	r4, r0
 176:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef status = USBH_FAIL;
 1068              		.loc 1 176 3 is_stmt 1 view .LVU308
 1069              	.LVL96:
 177:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle;
 1070              		.loc 1 177 3 view .LVU309
 178:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1071              		.loc 1 178 3 view .LVU310
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1072              		.loc 1 180 3 view .LVU311
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1073              		.loc 1 180 46 is_stmt 0 view .LVU312
 1074 0006 D0F87813 		ldr	r1, [r0, #888]
 180:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1075              		.loc 1 180 15 view .LVU313
 1076 000a 5023     		movs	r3, #80
 1077 000c 0622     		movs	r2, #6
 1078 000e 0979     		ldrb	r1, [r1, #4]	@ zero_extendqisi2
 1079 0010 FFF7FEFF 		bl	USBH_FindInterface
 1080              	.LVL97:
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1081              		.loc 1 182 3 is_stmt 1 view .LVU314
 182:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1082              		.loc 1 182 5 is_stmt 0 view .LVU315
 1083 0014 FF28     		cmp	r0, #255
 1084 0016 78D0     		beq	.L71
 1085 0018 0146     		mov	r1, r0
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 36


 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1086              		.loc 1 189 5 is_stmt 1 view .LVU316
 1087 001a 2046     		mov	r0, r4
 1088              	.LVL98:
 189:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1089              		.loc 1 189 5 is_stmt 0 view .LVU317
 1090 001c FFF7FEFF 		bl	USBH_SelectInterface
 1091              	.LVL99:
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1092              		.loc 1 191 5 is_stmt 1 view .LVU318
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1093              		.loc 1 191 10 is_stmt 0 view .LVU319
 1094 0020 D4F87853 		ldr	r5, [r4, #888]
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1095              		.loc 1 191 55 view .LVU320
 1096 0024 4FF48070 		mov	r0, #256
 1097 0028 FFF7FEFF 		bl	malloc
 1098              	.LVL100:
 191:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1099              		.loc 1 191 32 view .LVU321
 1100 002c E861     		str	r0, [r5, #28]
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1101              		.loc 1 192 5 is_stmt 1 view .LVU322
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1102              		.loc 1 192 46 is_stmt 0 view .LVU323
 1103 002e D4F87833 		ldr	r3, [r4, #888]
 192:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1104              		.loc 1 192 16 view .LVU324
 1105 0032 DD69     		ldr	r5, [r3, #28]
 1106              	.LVL101:
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1107              		.loc 1 194 5 is_stmt 1 view .LVU325
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1108              		.loc 1 194 52 is_stmt 0 view .LVU326
 1109 0034 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1110              		.loc 1 194 82 view .LVU327
 1111 0038 1A22     		movs	r2, #26
 1112 003a 02FB0343 		mla	r3, r2, r3, r4
 1113 003e 93F84A23 		ldrb	r2, [r3, #842]	@ zero_extendqisi2
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1114              		.loc 1 194 8 view .LVU328
 1115 0042 93F94A33 		ldrsb	r3, [r3, #842]
 194:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1116              		.loc 1 194 7 view .LVU329
 1117 0046 002B     		cmp	r3, #0
 1118 0048 6DDB     		blt	.L72
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 1119              		.loc 1 201 7 is_stmt 1 view .LVU330
 201:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 1120              		.loc 1 201 25 is_stmt 0 view .LVU331
 1121 004a AA71     		strb	r2, [r5, #6]
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1122              		.loc 1 202 7 is_stmt 1 view .LVU332
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1123              		.loc 1 202 76 is_stmt 0 view .LVU333
 1124 004c 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 37


 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1125              		.loc 1 202 106 view .LVU334
 1126 0050 1A22     		movs	r2, #26
 1127 0052 02FB0343 		mla	r3, r2, r3, r4
 1128 0056 B3F84C33 		ldrh	r3, [r3, #844]
 202:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1129              		.loc 1 202 30 view .LVU335
 1130 005a 2B81     		strh	r3, [r5, #8]	@ movhi
 1131              	.L67:
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1132              		.loc 1 205 5 is_stmt 1 view .LVU336
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1133              		.loc 1 205 52 is_stmt 0 view .LVU337
 1134 005c 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1135              		.loc 1 205 82 view .LVU338
 1136 0060 1A22     		movs	r2, #26
 1137 0062 02FB0343 		mla	r3, r2, r3, r4
 1138 0066 93F85223 		ldrb	r2, [r3, #850]	@ zero_extendqisi2
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1139              		.loc 1 205 8 view .LVU339
 1140 006a 93F95233 		ldrsb	r3, [r3, #850]
 205:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1141              		.loc 1 205 7 view .LVU340
 1142 006e 002B     		cmp	r3, #0
 1143 0070 63DB     		blt	.L73
 212:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 1144              		.loc 1 212 7 is_stmt 1 view .LVU341
 212:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->OutEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_D
 1145              		.loc 1 212 25 is_stmt 0 view .LVU342
 1146 0072 AA71     		strb	r2, [r5, #6]
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1147              		.loc 1 213 7 is_stmt 1 view .LVU343
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1148              		.loc 1 213 76 is_stmt 0 view .LVU344
 1149 0074 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1150              		.loc 1 213 106 view .LVU345
 1151 0078 1A22     		movs	r2, #26
 1152 007a 02FB0343 		mla	r3, r2, r3, r4
 1153 007e B3F85433 		ldrh	r3, [r3, #852]
 213:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1154              		.loc 1 213 30 view .LVU346
 1155 0082 2B81     		strh	r3, [r5, #8]	@ movhi
 1156              	.L69:
 216:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->rw_lun = 0U;
 1157              		.loc 1 216 5 is_stmt 1 view .LVU347
 216:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->rw_lun = 0U;
 1158              		.loc 1 216 29 is_stmt 0 view .LVU348
 1159 0084 0026     		movs	r6, #0
 1160 0086 A5F8F860 		strh	r6, [r5, #248]	@ movhi
 217:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_INIT;
 1161              		.loc 1 217 5 is_stmt 1 view .LVU349
 217:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->state = MSC_INIT;
 1162              		.loc 1 217 24 is_stmt 0 view .LVU350
 1163 008a A5F8FA60 		strh	r6, [r5, #250]	@ movhi
 218:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->error = MSC_OK;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 38


 1164              		.loc 1 218 5 is_stmt 1 view .LVU351
 218:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->error = MSC_OK;
 1165              		.loc 1 218 23 is_stmt 0 view .LVU352
 1166 008e 2E73     		strb	r6, [r5, #12]
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->req_state = MSC_REQ_IDLE;
 1167              		.loc 1 219 5 is_stmt 1 view .LVU353
 219:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->req_state = MSC_REQ_IDLE;
 1168              		.loc 1 219 23 is_stmt 0 view .LVU354
 1169 0090 6E73     		strb	r6, [r5, #13]
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 1170              		.loc 1 220 5 is_stmt 1 view .LVU355
 220:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->OutPipe = USBH_AllocPipe(phost, MSC_Handle->OutEp);
 1171              		.loc 1 220 27 is_stmt 0 view .LVU356
 1172 0092 AE73     		strb	r6, [r5, #14]
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 1173              		.loc 1 221 5 is_stmt 1 view .LVU357
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 1174              		.loc 1 221 27 is_stmt 0 view .LVU358
 1175 0094 A979     		ldrb	r1, [r5, #6]	@ zero_extendqisi2
 1176 0096 2046     		mov	r0, r4
 1177 0098 FFF7FEFF 		bl	USBH_AllocPipe
 1178              	.LVL102:
 221:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     MSC_Handle->InPipe = USBH_AllocPipe(phost, MSC_Handle->InEp);
 1179              		.loc 1 221 25 view .LVU359
 1180 009c 6871     		strb	r0, [r5, #5]
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1181              		.loc 1 222 5 is_stmt 1 view .LVU360
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1182              		.loc 1 222 26 is_stmt 0 view .LVU361
 1183 009e E979     		ldrb	r1, [r5, #7]	@ zero_extendqisi2
 1184 00a0 2046     		mov	r0, r4
 1185 00a2 FFF7FEFF 		bl	USBH_AllocPipe
 1186              	.LVL103:
 222:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1187              		.loc 1 222 24 view .LVU362
 1188 00a6 2871     		strb	r0, [r5, #4]
 224:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1189              		.loc 1 224 5 is_stmt 1 view .LVU363
 1190 00a8 2046     		mov	r0, r4
 1191 00aa FFF7FEFF 		bl	USBH_MSC_BOT_Init
 1192              	.LVL104:
 227:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1193              		.loc 1 227 5 view .LVU364
 1194 00ae 6822     		movs	r2, #104
 1195 00b0 3146     		mov	r1, r6
 1196 00b2 05F19000 		add	r0, r5, #144
 1197 00b6 FFF7FEFF 		bl	memset
 1198              	.LVL105:
 230:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->OutPipe,
 1199              		.loc 1 230 5 view .LVU365
 1200 00ba AA79     		ldrb	r2, [r5, #6]	@ zero_extendqisi2
 1201 00bc 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 1202 00be 2B89     		ldrh	r3, [r5, #8]
 1203 00c0 0293     		str	r3, [sp, #8]
 1204 00c2 0227     		movs	r7, #2
 1205 00c4 0197     		str	r7, [sp, #4]
 1206 00c6 94F81D33 		ldrb	r3, [r4, #797]	@ zero_extendqisi2
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 39


 1207 00ca 0093     		str	r3, [sp]
 1208 00cc 94F81C33 		ldrb	r3, [r4, #796]	@ zero_extendqisi2
 1209 00d0 2046     		mov	r0, r4
 1210 00d2 FFF7FEFF 		bl	USBH_OpenPipe
 1211              	.LVL106:
 238:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                     MSC_Handle->InPipe,
 1212              		.loc 1 238 5 view .LVU366
 1213 00d6 EA79     		ldrb	r2, [r5, #7]	@ zero_extendqisi2
 1214 00d8 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 1215 00da 6B89     		ldrh	r3, [r5, #10]
 1216 00dc 0293     		str	r3, [sp, #8]
 1217 00de 0197     		str	r7, [sp, #4]
 1218 00e0 94F81D33 		ldrb	r3, [r4, #797]	@ zero_extendqisi2
 1219 00e4 0093     		str	r3, [sp]
 1220 00e6 94F81C33 		ldrb	r3, [r4, #796]	@ zero_extendqisi2
 1221 00ea 2046     		mov	r0, r4
 1222 00ec FFF7FEFF 		bl	USBH_OpenPipe
 1223              	.LVL107:
 246:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_LL_SetToggle (phost, MSC_Handle->OutPipe, 0U);
 1224              		.loc 1 246 5 view .LVU367
 1225 00f0 3246     		mov	r2, r6
 1226 00f2 2979     		ldrb	r1, [r5, #4]	@ zero_extendqisi2
 1227 00f4 2046     		mov	r0, r4
 1228 00f6 FFF7FEFF 		bl	USBH_LL_SetToggle
 1229              	.LVL108:
 247:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_OK;
 1230              		.loc 1 247 5 view .LVU368
 1231 00fa 3246     		mov	r2, r6
 1232 00fc 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 1233 00fe 2046     		mov	r0, r4
 1234 0100 FFF7FEFF 		bl	USBH_LL_SetToggle
 1235              	.LVL109:
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1236              		.loc 1 248 5 view .LVU369
 248:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1237              		.loc 1 248 12 is_stmt 0 view .LVU370
 1238 0104 3046     		mov	r0, r6
 1239              	.LVL110:
 1240              	.L65:
 250:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1241              		.loc 1 250 3 is_stmt 1 view .LVU371
 251:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1242              		.loc 1 251 1 is_stmt 0 view .LVU372
 1243 0106 05B0     		add	sp, sp, #20
 1244              	.LCFI5:
 1245              		.cfi_remember_state
 1246              		.cfi_def_cfa_offset 20
 1247              		@ sp needed
 1248 0108 F0BD     		pop	{r4, r5, r6, r7, pc}
 1249              	.LVL111:
 1250              	.L71:
 1251              	.LCFI6:
 1252              		.cfi_restore_state
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 1253              		.loc 1 184 5 is_stmt 1 view .LVU373
 1254 010a 1148     		ldr	r0, .L74
 1255              	.LVL112:
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 40


 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 1256              		.loc 1 184 5 is_stmt 0 view .LVU374
 1257 010c FFF7FEFF 		bl	printf
 1258              	.LVL113:
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 1259              		.loc 1 184 5 is_stmt 1 view .LVU375
 1260 0110 D4F87833 		ldr	r3, [r4, #888]
 1261 0114 1968     		ldr	r1, [r3]
 1262 0116 0F48     		ldr	r0, .L74+4
 1263 0118 FFF7FEFF 		bl	printf
 1264              	.LVL114:
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 1265              		.loc 1 184 5 view .LVU376
 1266 011c 0A20     		movs	r0, #10
 1267 011e FFF7FEFF 		bl	putchar
 1268              	.LVL115:
 184:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     status = USBH_FAIL;
 1269              		.loc 1 184 87 view .LVU377
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1270              		.loc 1 185 5 view .LVU378
 185:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1271              		.loc 1 185 12 is_stmt 0 view .LVU379
 1272 0122 0220     		movs	r0, #2
 1273 0124 EFE7     		b	.L65
 1274              	.LVL116:
 1275              	.L72:
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 1276              		.loc 1 196 7 is_stmt 1 view .LVU380
 196:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 1277              		.loc 1 196 24 is_stmt 0 view .LVU381
 1278 0126 EA71     		strb	r2, [r5, #7]
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1279              		.loc 1 197 7 is_stmt 1 view .LVU382
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1280              		.loc 1 197 75 is_stmt 0 view .LVU383
 1281 0128 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1282              		.loc 1 197 105 view .LVU384
 1283 012c 1A22     		movs	r2, #26
 1284 012e 02FB0343 		mla	r3, r2, r3, r4
 1285 0132 B3F84C33 		ldrh	r3, [r3, #844]
 197:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1286              		.loc 1 197 29 view .LVU385
 1287 0136 6B81     		strh	r3, [r5, #10]	@ movhi
 1288 0138 90E7     		b	.L67
 1289              	.L73:
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 1290              		.loc 1 207 7 is_stmt 1 view .LVU386
 207:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->InEpSize  = phost->device.CfgDesc.Itf_Desc[phost->device.current_interface].Ep_De
 1291              		.loc 1 207 24 is_stmt 0 view .LVU387
 1292 013a EA71     		strb	r2, [r5, #7]
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1293              		.loc 1 208 7 is_stmt 1 view .LVU388
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1294              		.loc 1 208 75 is_stmt 0 view .LVU389
 1295 013c 94F82033 		ldrb	r3, [r4, #800]	@ zero_extendqisi2
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 41


 1296              		.loc 1 208 105 view .LVU390
 1297 0140 1A22     		movs	r2, #26
 1298 0142 02FB0343 		mla	r3, r2, r3, r4
 1299 0146 B3F85433 		ldrh	r3, [r3, #852]
 208:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1300              		.loc 1 208 29 view .LVU391
 1301 014a 6B81     		strh	r3, [r5, #10]	@ movhi
 1302 014c 9AE7     		b	.L69
 1303              	.L75:
 1304 014e 00BF     		.align	2
 1305              	.L74:
 1306 0150 00000000 		.word	.LC13
 1307 0154 0C000000 		.word	.LC14
 1308              		.cfi_endproc
 1309              	.LFE143:
 1311              		.section	.text.USBH_MSC_RdWrProcess,"ax",%progbits
 1312              		.align	1
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
 1316              		.fpu fpv5-sp-d16
 1318              	USBH_MSC_RdWrProcess:
 1319              	.LVL117:
 1320              	.LFB148:
 553:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 554:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_RdWrProcess
 555:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function is for managing state machine for MSC I/O Process
 556:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 557:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 558:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 559:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 560:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** static USBH_StatusTypeDef USBH_MSC_RdWrProcess(USBH_HandleTypeDef *phost, uint8_t lun)
 561:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1321              		.loc 1 561 1 is_stmt 1 view -0
 1322              		.cfi_startproc
 1323              		@ args = 0, pretend = 0, frame = 0
 1324              		@ frame_needed = 0, uses_anonymous_args = 0
 1325              		.loc 1 561 1 is_stmt 0 view .LVU393
 1326 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 1327              	.LCFI7:
 1328              		.cfi_def_cfa_offset 28
 1329              		.cfi_offset 4, -28
 1330              		.cfi_offset 5, -24
 1331              		.cfi_offset 6, -20
 1332              		.cfi_offset 7, -16
 1333              		.cfi_offset 8, -12
 1334              		.cfi_offset 9, -8
 1335              		.cfi_offset 14, -4
 1336 0004 83B0     		sub	sp, sp, #12
 1337              	.LCFI8:
 1338              		.cfi_def_cfa_offset 40
 1339 0006 0546     		mov	r5, r0
 1340 0008 0C46     		mov	r4, r1
 562:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1341              		.loc 1 562 3 is_stmt 1 view .LVU394
 1342              		.loc 1 562 63 is_stmt 0 view .LVU395
 1343 000a D0F87833 		ldr	r3, [r0, #888]
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 42


 1344              		.loc 1 562 22 view .LVU396
 1345 000e DF69     		ldr	r7, [r3, #28]
 1346              	.LVL118:
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef error = USBH_BUSY ;
 1347              		.loc 1 563 3 is_stmt 1 view .LVU397
 564:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1348              		.loc 1 564 3 view .LVU398
 565:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 566:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   /* Switch MSC REQ state machine */
 567:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   switch (MSC_Handle->unit[lun].state)
 1349              		.loc 1 567 3 view .LVU399
 1350              		.loc 1 567 32 is_stmt 0 view .LVU400
 1351 0010 3423     		movs	r3, #52
 1352 0012 03FB0173 		mla	r3, r3, r1, r7
 1353 0016 93F89030 		ldrb	r3, [r3, #144]	@ zero_extendqisi2
 1354              		.loc 1 567 3 view .LVU401
 1355 001a 062B     		cmp	r3, #6
 1356 001c 08D0     		beq	.L77
 1357 001e 072B     		cmp	r3, #7
 1358 0020 30D0     		beq	.L78
 1359 0022 052B     		cmp	r3, #5
 1360 0024 58D0     		beq	.L79
 1361 0026 0126     		movs	r6, #1
 1362              	.LVL119:
 1363              	.L80:
 568:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 569:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 570:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_READ:
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     scsi_status = USBH_MSC_SCSI_Read(phost,lun, 0U, NULL, 0U);
 572:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 573:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(scsi_status == USBH_OK)
 574:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 575:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_IDLE;
 576:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_OK;
 577:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 578:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else if( scsi_status == USBH_FAIL)
 579:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 580:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 581:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 582:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 583:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 584:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if(scsi_status == USBH_UNRECOVERED_ERROR)
 585:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 586:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 588:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 589:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 590:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     osMessagePut ( phost->os_event, USBH_CLASS_EVENT, 0U);
 592:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 593:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 594:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 595:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_WRITE:
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     scsi_status = USBH_MSC_SCSI_Write(phost,lun, 0U, NULL, 0U);
 597:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 598:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(scsi_status == USBH_OK)
 599:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 43


 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_IDLE;
 601:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 602:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else if( scsi_status == USBH_FAIL)
 604:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 605:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_REQUEST_SENSE;
 606:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 607:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 608:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 609:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if(scsi_status == USBH_UNRECOVERED_ERROR)
 610:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 611:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 612:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 613:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 614:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 615:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 616:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     osMessagePut ( phost->os_event, USBH_CLASS_EVENT, 0U);
 617:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 618:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 619:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 620:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   case MSC_REQUEST_SENSE:
 621:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     scsi_status = USBH_MSC_SCSI_RequestSense(phost, lun, &MSC_Handle->unit[lun].sense);
 622:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(scsi_status == USBH_OK)
 624:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Sense Key  : %x", MSC_Handle->unit[lun].sense.key);
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 627:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 628:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_IDLE;
 629:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].error = MSC_ERROR;
 630:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 631:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_FAIL;
 632:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 633:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(scsi_status == USBH_FAIL)
 634:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 635:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("MSC Device NOT ready");
 636:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 637:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     else
 638:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       if(scsi_status == USBH_UNRECOVERED_ERROR)
 640:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 641:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         MSC_Handle->unit[lun].state = MSC_UNRECOVERED_ERROR;
 642:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 643:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 644:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 645:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #if (USBH_USE_OS == 1U)
 646:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     osMessagePut ( phost->os_event, USBH_CLASS_EVENT, 0U);
 647:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 648:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 649:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 650:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   default:
 651:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     break;
 652:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 653:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 654:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return error;
 1364              		.loc 1 654 3 is_stmt 1 view .LVU402
 655:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 44


 1365              		.loc 1 655 1 is_stmt 0 view .LVU403
 1366 0028 3046     		mov	r0, r6
 1367 002a 03B0     		add	sp, sp, #12
 1368              	.LCFI9:
 1369              		.cfi_remember_state
 1370              		.cfi_def_cfa_offset 28
 1371              		@ sp needed
 1372 002c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1373              	.LVL120:
 1374              	.L77:
 1375              	.LCFI10:
 1376              		.cfi_restore_state
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1377              		.loc 1 571 5 is_stmt 1 view .LVU404
 571:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1378              		.loc 1 571 19 is_stmt 0 view .LVU405
 1379 0030 0022     		movs	r2, #0
 1380 0032 0092     		str	r2, [sp]
 1381 0034 1346     		mov	r3, r2
 1382 0036 FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1383              	.LVL121:
 573:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1384              		.loc 1 573 5 is_stmt 1 view .LVU406
 573:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1385              		.loc 1 573 7 is_stmt 0 view .LVU407
 1386 003a 0646     		mov	r6, r0
 1387 003c 60B9     		cbnz	r0, .L81
 575:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_OK;
 1388              		.loc 1 575 7 is_stmt 1 view .LVU408
 575:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       error = USBH_OK;
 1389              		.loc 1 575 35 is_stmt 0 view .LVU409
 1390 003e 3421     		movs	r1, #52
 1391 0040 01FB0474 		mla	r4, r1, r4, r7
 1392 0044 0123     		movs	r3, #1
 1393 0046 84F89030 		strb	r3, [r4, #144]
 576:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1394              		.loc 1 576 7 is_stmt 1 view .LVU410
 1395              	.LVL122:
 1396              	.L82:
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1397              		.loc 1 591 5 view .LVU411
 1398 004a 0022     		movs	r2, #0
 1399 004c 0421     		movs	r1, #4
 1400 004e D5F8CC03 		ldr	r0, [r5, #972]
 1401              	.LVL123:
 591:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1402              		.loc 1 591 5 is_stmt 0 view .LVU412
 1403 0052 FFF7FEFF 		bl	osMessagePut
 1404              	.LVL124:
 593:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1405              		.loc 1 593 5 is_stmt 1 view .LVU413
 1406 0056 E7E7     		b	.L80
 1407              	.LVL125:
 1408              	.L81:
 578:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1409              		.loc 1 578 10 view .LVU414
 578:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 45


 1410              		.loc 1 578 12 is_stmt 0 view .LVU415
 1411 0058 0228     		cmp	r0, #2
 1412 005a 03D0     		beq	.L94
 584:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1413              		.loc 1 584 7 is_stmt 1 view .LVU416
 584:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1414              		.loc 1 584 9 is_stmt 0 view .LVU417
 1415 005c 0428     		cmp	r0, #4
 1416 005e 09D0     		beq	.L95
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1417              		.loc 1 563 22 view .LVU418
 1418 0060 0126     		movs	r6, #1
 1419 0062 F2E7     		b	.L82
 1420              	.L94:
 580:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1421              		.loc 1 580 7 is_stmt 1 view .LVU419
 580:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1422              		.loc 1 580 35 is_stmt 0 view .LVU420
 1423 0064 3423     		movs	r3, #52
 1424 0066 03FB0474 		mla	r4, r3, r4, r7
 1425 006a 0523     		movs	r3, #5
 1426 006c 84F89030 		strb	r3, [r4, #144]
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1427              		.loc 1 563 22 view .LVU421
 1428 0070 0126     		movs	r6, #1
 1429 0072 EAE7     		b	.L82
 1430              	.L95:
 586:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1431              		.loc 1 586 9 is_stmt 1 view .LVU422
 586:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1432              		.loc 1 586 37 is_stmt 0 view .LVU423
 1433 0074 3423     		movs	r3, #52
 1434 0076 03FB0474 		mla	r4, r3, r4, r7
 1435 007a 0823     		movs	r3, #8
 1436 007c 84F89030 		strb	r3, [r4, #144]
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1437              		.loc 1 587 9 is_stmt 1 view .LVU424
 1438              	.LVL126:
 587:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1439              		.loc 1 587 15 is_stmt 0 view .LVU425
 1440 0080 0226     		movs	r6, #2
 1441 0082 E2E7     		b	.L82
 1442              	.LVL127:
 1443              	.L78:
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1444              		.loc 1 596 5 is_stmt 1 view .LVU426
 596:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1445              		.loc 1 596 19 is_stmt 0 view .LVU427
 1446 0084 0022     		movs	r2, #0
 1447 0086 0092     		str	r2, [sp]
 1448 0088 1346     		mov	r3, r2
 1449 008a FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 1450              	.LVL128:
 598:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1451              		.loc 1 598 5 is_stmt 1 view .LVU428
 598:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1452              		.loc 1 598 7 is_stmt 0 view .LVU429
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 46


 1453 008e 0646     		mov	r6, r0
 1454 0090 60B9     		cbnz	r0, .L84
 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1455              		.loc 1 600 9 is_stmt 1 view .LVU430
 600:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_OK;
 1456              		.loc 1 600 37 is_stmt 0 view .LVU431
 1457 0092 3421     		movs	r1, #52
 1458 0094 01FB0474 		mla	r4, r1, r4, r7
 1459 0098 0123     		movs	r3, #1
 1460 009a 84F89030 		strb	r3, [r4, #144]
 601:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1461              		.loc 1 601 9 is_stmt 1 view .LVU432
 1462              	.LVL129:
 1463              	.L85:
 616:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1464              		.loc 1 616 5 view .LVU433
 1465 009e 0022     		movs	r2, #0
 1466 00a0 0421     		movs	r1, #4
 1467 00a2 D5F8CC03 		ldr	r0, [r5, #972]
 1468              	.LVL130:
 616:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1469              		.loc 1 616 5 is_stmt 0 view .LVU434
 1470 00a6 FFF7FEFF 		bl	osMessagePut
 1471              	.LVL131:
 618:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1472              		.loc 1 618 5 is_stmt 1 view .LVU435
 1473 00aa BDE7     		b	.L80
 1474              	.LVL132:
 1475              	.L84:
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1476              		.loc 1 603 10 view .LVU436
 603:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1477              		.loc 1 603 12 is_stmt 0 view .LVU437
 1478 00ac 0228     		cmp	r0, #2
 1479 00ae 03D0     		beq	.L96
 609:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1480              		.loc 1 609 7 is_stmt 1 view .LVU438
 609:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1481              		.loc 1 609 9 is_stmt 0 view .LVU439
 1482 00b0 0428     		cmp	r0, #4
 1483 00b2 09D0     		beq	.L97
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1484              		.loc 1 563 22 view .LVU440
 1485 00b4 0126     		movs	r6, #1
 1486 00b6 F2E7     		b	.L85
 1487              	.L96:
 605:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1488              		.loc 1 605 7 is_stmt 1 view .LVU441
 605:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1489              		.loc 1 605 35 is_stmt 0 view .LVU442
 1490 00b8 3423     		movs	r3, #52
 1491 00ba 03FB0474 		mla	r4, r3, r4, r7
 1492 00be 0523     		movs	r3, #5
 1493 00c0 84F89030 		strb	r3, [r4, #144]
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1494              		.loc 1 563 22 view .LVU443
 1495 00c4 0126     		movs	r6, #1
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 47


 1496 00c6 EAE7     		b	.L85
 1497              	.L97:
 611:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1498              		.loc 1 611 9 is_stmt 1 view .LVU444
 611:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1499              		.loc 1 611 37 is_stmt 0 view .LVU445
 1500 00c8 3423     		movs	r3, #52
 1501 00ca 03FB0474 		mla	r4, r3, r4, r7
 1502 00ce 0823     		movs	r3, #8
 1503 00d0 84F89030 		strb	r3, [r4, #144]
 612:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1504              		.loc 1 612 9 is_stmt 1 view .LVU446
 1505              	.LVL133:
 612:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1506              		.loc 1 612 15 is_stmt 0 view .LVU447
 1507 00d4 0226     		movs	r6, #2
 1508 00d6 E2E7     		b	.L85
 1509              	.LVL134:
 1510              	.L79:
 621:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1511              		.loc 1 621 5 is_stmt 1 view .LVU448
 621:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1512              		.loc 1 621 19 is_stmt 0 view .LVU449
 1513 00d8 3422     		movs	r2, #52
 1514 00da 02FB01F2 		mul	r2, r2, r1
 1515 00de 9832     		adds	r2, r2, #152
 1516 00e0 3A44     		add	r2, r2, r7
 1517 00e2 0432     		adds	r2, r2, #4
 1518 00e4 FFF7FEFF 		bl	USBH_MSC_SCSI_RequestSense
 1519              	.LVL135:
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1520              		.loc 1 623 5 is_stmt 1 view .LVU450
 623:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1521              		.loc 1 623 7 is_stmt 0 view .LVU451
 1522 00e8 8046     		mov	r8, r0
 1523 00ea 68B1     		cbz	r0, .L98
 563:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_StatusTypeDef scsi_status = USBH_BUSY ;
 1524              		.loc 1 563 22 view .LVU452
 1525 00ec 0126     		movs	r6, #1
 1526              	.LVL136:
 1527              	.L87:
 633:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1528              		.loc 1 633 5 is_stmt 1 view .LVU453
 633:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 1529              		.loc 1 633 7 is_stmt 0 view .LVU454
 1530 00ee B8F1020F 		cmp	r8, #2
 1531 00f2 2CD0     		beq	.L99
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1532              		.loc 1 639 7 is_stmt 1 view .LVU455
 639:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       {
 1533              		.loc 1 639 9 is_stmt 0 view .LVU456
 1534 00f4 B8F1040F 		cmp	r8, #4
 1535 00f8 30D0     		beq	.L100
 1536              	.LVL137:
 1537              	.L89:
 646:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** #endif
 1538              		.loc 1 646 5 is_stmt 1 view .LVU457
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 48


 1539 00fa 0022     		movs	r2, #0
 1540 00fc 0421     		movs	r1, #4
 1541 00fe D5F8CC03 		ldr	r0, [r5, #972]
 1542 0102 FFF7FEFF 		bl	osMessagePut
 1543              	.LVL138:
 648:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1544              		.loc 1 648 5 view .LVU458
 1545 0106 8FE7     		b	.L80
 1546              	.LVL139:
 1547              	.L98:
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1548              		.loc 1 625 7 view .LVU459
 1549 0108 4FF03409 		mov	r9, #52
 1550 010c 09FB0479 		mla	r9, r9, r4, r7
 1551 0110 99F89C10 		ldrb	r1, [r9, #156]	@ zero_extendqisi2
 1552 0114 1548     		ldr	r0, .L101
 1553              	.LVL140:
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1554              		.loc 1 625 7 is_stmt 0 view .LVU460
 1555 0116 FFF7FEFF 		bl	printf
 1556              	.LVL141:
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1557              		.loc 1 625 7 is_stmt 1 view .LVU461
 1558 011a 0A20     		movs	r0, #10
 1559 011c FFF7FEFF 		bl	putchar
 1560              	.LVL142:
 625:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code : %x", MSC_Handle->unit[lun].sense.asc);
 1561              		.loc 1 625 71 view .LVU462
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1562              		.loc 1 626 7 view .LVU463
 1563 0120 99F89D10 		ldrb	r1, [r9, #157]	@ zero_extendqisi2
 1564 0124 1248     		ldr	r0, .L101+4
 1565 0126 FFF7FEFF 		bl	printf
 1566              	.LVL143:
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1567              		.loc 1 626 7 view .LVU464
 1568 012a 0A20     		movs	r0, #10
 1569 012c FFF7FEFF 		bl	putchar
 1570              	.LVL144:
 626:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       USBH_UsrLog ("Additional Sense Code Qualifier: %x", MSC_Handle->unit[lun].sense.ascq);
 1571              		.loc 1 626 82 view .LVU465
 627:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_IDLE;
 1572              		.loc 1 627 7 view .LVU466
 1573 0130 99F89E10 		ldrb	r1, [r9, #158]	@ zero_extendqisi2
 1574 0134 0F48     		ldr	r0, .L101+8
 1575 0136 FFF7FEFF 		bl	printf
 1576              	.LVL145:
 627:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_IDLE;
 1577              		.loc 1 627 7 view .LVU467
 1578 013a 0A20     		movs	r0, #10
 1579 013c FFF7FEFF 		bl	putchar
 1580              	.LVL146:
 627:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].state = MSC_IDLE;
 1581              		.loc 1 627 92 view .LVU468
 628:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].error = MSC_ERROR;
 1582              		.loc 1 628 7 view .LVU469
 628:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->unit[lun].error = MSC_ERROR;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 49


 1583              		.loc 1 628 35 is_stmt 0 view .LVU470
 1584 0140 0123     		movs	r3, #1
 1585 0142 89F89030 		strb	r3, [r9, #144]
 629:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1586              		.loc 1 629 7 is_stmt 1 view .LVU471
 629:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 1587              		.loc 1 629 35 is_stmt 0 view .LVU472
 1588 0146 0226     		movs	r6, #2
 1589 0148 89F89160 		strb	r6, [r9, #145]
 631:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1590              		.loc 1 631 7 is_stmt 1 view .LVU473
 1591              	.LVL147:
 631:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1592              		.loc 1 631 7 is_stmt 0 view .LVU474
 1593 014c CFE7     		b	.L87
 1594              	.LVL148:
 1595              	.L99:
 635:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1596              		.loc 1 635 7 is_stmt 1 view .LVU475
 1597 014e 0A48     		ldr	r0, .L101+12
 1598 0150 FFF7FEFF 		bl	printf
 1599              	.LVL149:
 635:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1600              		.loc 1 635 7 view .LVU476
 1601 0154 0A20     		movs	r0, #10
 1602 0156 FFF7FEFF 		bl	putchar
 1603              	.LVL150:
 635:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 1604              		.loc 1 635 43 view .LVU477
 1605 015a CEE7     		b	.L89
 1606              	.L100:
 641:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1607              		.loc 1 641 9 view .LVU478
 641:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****         error = USBH_FAIL;
 1608              		.loc 1 641 37 is_stmt 0 view .LVU479
 1609 015c 3421     		movs	r1, #52
 1610 015e 01FB0474 		mla	r4, r1, r4, r7
 1611 0162 0823     		movs	r3, #8
 1612 0164 84F89030 		strb	r3, [r4, #144]
 642:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1613              		.loc 1 642 9 is_stmt 1 view .LVU480
 1614              	.LVL151:
 642:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       }
 1615              		.loc 1 642 15 is_stmt 0 view .LVU481
 1616 0168 0226     		movs	r6, #2
 1617 016a C6E7     		b	.L89
 1618              	.L102:
 1619              		.align	2
 1620              	.L101:
 1621 016c C8000000 		.word	.LC9
 1622 0170 D8000000 		.word	.LC10
 1623 0174 F4000000 		.word	.LC11
 1624 0178 68000000 		.word	.LC5
 1625              		.cfi_endproc
 1626              	.LFE148:
 1628              		.section	.text.USBH_MSC_IsReady,"ax",%progbits
 1629              		.align	1
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 50


 1630              		.global	USBH_MSC_IsReady
 1631              		.syntax unified
 1632              		.thumb
 1633              		.thumb_func
 1634              		.fpu fpv5-sp-d16
 1636              	USBH_MSC_IsReady:
 1637              	.LVL152:
 1638              	.LFB149:
 656:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 657:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 658:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_IsReady
 659:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check if the MSC function is ready
 660:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 661:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 662:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 663:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_IsReady (USBH_HandleTypeDef *phost)
 664:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1639              		.loc 1 664 1 is_stmt 1 view -0
 1640              		.cfi_startproc
 1641              		@ args = 0, pretend = 0, frame = 0
 1642              		@ frame_needed = 0, uses_anonymous_args = 0
 1643              		@ link register save eliminated.
 665:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle = (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1644              		.loc 1 665 3 view .LVU483
 1645              		.loc 1 665 62 is_stmt 0 view .LVU484
 1646 0000 D0F87833 		ldr	r3, [r0, #888]
 1647              		.loc 1 665 22 view .LVU485
 1648 0004 DA69     		ldr	r2, [r3, #28]
 1649              	.LVL153:
 666:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1650              		.loc 1 666 3 is_stmt 1 view .LVU486
 667:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 668:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1651              		.loc 1 668 3 view .LVU487
 1652              		.loc 1 668 13 is_stmt 0 view .LVU488
 1653 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1654 0008 DBB2     		uxtb	r3, r3
 1655              		.loc 1 668 6 view .LVU489
 1656 000a 0B2B     		cmp	r3, #11
 1657 000c 01D0     		beq	.L106
 669:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 670:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 671:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 672:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 673:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 674:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1658              		.loc 1 674 9 view .LVU490
 1659 000e 0020     		movs	r0, #0
 1660              	.LVL154:
 1661              	.L104:
 675:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 676:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 677:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1662              		.loc 1 677 3 is_stmt 1 view .LVU491
 678:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1663              		.loc 1 678 1 is_stmt 0 view .LVU492
 1664 0010 7047     		bx	lr
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 51


 1665              	.LVL155:
 1666              	.L106:
 668:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1667              		.loc 1 668 51 discriminator 1 view .LVU493
 1668 0012 107B     		ldrb	r0, [r2, #12]	@ zero_extendqisi2
 1669              	.LVL156:
 668:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1670              		.loc 1 668 37 discriminator 1 view .LVU494
 1671 0014 0128     		cmp	r0, #1
 1672 0016 FBD0     		beq	.L104
 674:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1673              		.loc 1 674 9 view .LVU495
 1674 0018 0020     		movs	r0, #0
 1675 001a 7047     		bx	lr
 1676              		.cfi_endproc
 1677              	.LFE149:
 1679              		.section	.text.USBH_MSC_GetMaxLUN,"ax",%progbits
 1680              		.align	1
 1681              		.global	USBH_MSC_GetMaxLUN
 1682              		.syntax unified
 1683              		.thumb
 1684              		.thumb_func
 1685              		.fpu fpv5-sp-d16
 1687              	USBH_MSC_GetMaxLUN:
 1688              	.LVL157:
 1689              	.LFB150:
 679:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 680:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 681:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetMaxLUN
 682:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return the Max LUN supported
 683:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 684:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval logical Unit Number supported
 685:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 686:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_GetMaxLUN (USBH_HandleTypeDef *phost)
 687:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1690              		.loc 1 687 1 is_stmt 1 view -0
 1691              		.cfi_startproc
 1692              		@ args = 0, pretend = 0, frame = 0
 1693              		@ frame_needed = 0, uses_anonymous_args = 0
 1694              		@ link register save eliminated.
 688:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1695              		.loc 1 688 3 view .LVU497
 1696              		.loc 1 688 63 is_stmt 0 view .LVU498
 1697 0000 D0F87833 		ldr	r3, [r0, #888]
 1698              		.loc 1 688 22 view .LVU499
 1699 0004 DA69     		ldr	r2, [r3, #28]
 1700              	.LVL158:
 689:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 690:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->state == MSC_IDLE))
 1701              		.loc 1 690 3 is_stmt 1 view .LVU500
 1702              		.loc 1 690 13 is_stmt 0 view .LVU501
 1703 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1704 0008 DBB2     		uxtb	r3, r3
 1705              		.loc 1 690 6 view .LVU502
 1706 000a 0B2B     		cmp	r3, #11
 1707 000c 01D0     		beq	.L111
 691:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 52


 692:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  (uint8_t)MSC_Handle->max_lun;
 693:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 694:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 695:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return 0xFFU;
 1708              		.loc 1 695 10 view .LVU503
 1709 000e FF20     		movs	r0, #255
 1710              	.LVL159:
 1711              		.loc 1 695 10 view .LVU504
 1712 0010 7047     		bx	lr
 1713              	.LVL160:
 1714              	.L111:
 690:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1715              		.loc 1 690 51 discriminator 1 view .LVU505
 1716 0012 137B     		ldrb	r3, [r2, #12]	@ zero_extendqisi2
 690:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1717              		.loc 1 690 37 discriminator 1 view .LVU506
 1718 0014 012B     		cmp	r3, #1
 1719 0016 01D0     		beq	.L112
 1720              		.loc 1 695 10 view .LVU507
 1721 0018 FF20     		movs	r0, #255
 1722              	.LVL161:
 696:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1723              		.loc 1 696 1 view .LVU508
 1724 001a 7047     		bx	lr
 1725              	.LVL162:
 1726              	.L112:
 692:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1727              		.loc 1 692 5 is_stmt 1 view .LVU509
 692:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1728              		.loc 1 692 13 is_stmt 0 view .LVU510
 1729 001c 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 1730              	.LVL163:
 692:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1731              		.loc 1 692 13 view .LVU511
 1732 001e 7047     		bx	lr
 1733              		.cfi_endproc
 1734              	.LFE150:
 1736              		.section	.text.USBH_MSC_UnitIsReady,"ax",%progbits
 1737              		.align	1
 1738              		.global	USBH_MSC_UnitIsReady
 1739              		.syntax unified
 1740              		.thumb
 1741              		.thumb_func
 1742              		.fpu fpv5-sp-d16
 1744              	USBH_MSC_UnitIsReady:
 1745              	.LVL164:
 1746              	.LFB151:
 697:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 698:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 699:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_UnitIsReady
 700:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function check whether a LUN is ready
 701:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 702:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 703:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval Lun status (0: not ready / 1: ready)
 704:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 705:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** uint8_t  USBH_MSC_UnitIsReady (USBH_HandleTypeDef *phost, uint8_t lun)
 706:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 53


 1747              		.loc 1 706 1 is_stmt 1 view -0
 1748              		.cfi_startproc
 1749              		@ args = 0, pretend = 0, frame = 0
 1750              		@ frame_needed = 0, uses_anonymous_args = 0
 1751              		@ link register save eliminated.
 707:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1752              		.loc 1 707 3 view .LVU513
 1753              		.loc 1 707 63 is_stmt 0 view .LVU514
 1754 0000 D0F87833 		ldr	r3, [r0, #888]
 1755              		.loc 1 707 22 view .LVU515
 1756 0004 DA69     		ldr	r2, [r3, #28]
 1757              	.LVL165:
 708:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint8_t res;
 1758              		.loc 1 708 3 is_stmt 1 view .LVU516
 709:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 710:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->gState == HOST_CLASS) && (MSC_Handle->unit[lun].error == MSC_OK))
 1759              		.loc 1 710 3 view .LVU517
 1760              		.loc 1 710 13 is_stmt 0 view .LVU518
 1761 0006 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1762 0008 DBB2     		uxtb	r3, r3
 1763              		.loc 1 710 6 view .LVU519
 1764 000a 0B2B     		cmp	r3, #11
 1765 000c 01D0     		beq	.L117
 711:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 712:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 1U;
 713:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 714:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
 715:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 716:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     res = 0U;
 1766              		.loc 1 716 9 view .LVU520
 1767 000e 0020     		movs	r0, #0
 1768              	.LVL166:
 1769              		.loc 1 716 9 view .LVU521
 1770 0010 7047     		bx	lr
 1771              	.LVL167:
 1772              	.L117:
 710:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1773              		.loc 1 710 62 discriminator 1 view .LVU522
 1774 0012 3423     		movs	r3, #52
 1775 0014 03FB0121 		mla	r1, r3, r1, r2
 1776              	.LVL168:
 710:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1777              		.loc 1 710 62 discriminator 1 view .LVU523
 1778 0018 91F89130 		ldrb	r3, [r1, #145]	@ zero_extendqisi2
 710:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 1779              		.loc 1 710 37 discriminator 1 view .LVU524
 1780 001c 0BB1     		cbz	r3, .L116
 1781              		.loc 1 716 9 view .LVU525
 1782 001e 0020     		movs	r0, #0
 1783              	.LVL169:
 1784              		.loc 1 716 9 view .LVU526
 1785 0020 7047     		bx	lr
 1786              	.LVL170:
 1787              	.L116:
 712:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1788              		.loc 1 712 9 view .LVU527
 1789 0022 0120     		movs	r0, #1
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 54


 1790              	.LVL171:
 717:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 718:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 719:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return res;
 1791              		.loc 1 719 3 is_stmt 1 view .LVU528
 720:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1792              		.loc 1 720 1 is_stmt 0 view .LVU529
 1793 0024 7047     		bx	lr
 1794              		.cfi_endproc
 1795              	.LFE151:
 1797              		.section	.text.USBH_MSC_GetLUNInfo,"ax",%progbits
 1798              		.align	1
 1799              		.global	USBH_MSC_GetLUNInfo
 1800              		.syntax unified
 1801              		.thumb
 1802              		.thumb_func
 1803              		.fpu fpv5-sp-d16
 1805              	USBH_MSC_GetLUNInfo:
 1806              	.LVL172:
 1807              	.LFB152:
 721:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 722:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 723:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_GetLUNInfo
 724:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function return a LUN information
 725:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 726:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 727:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 728:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 729:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_GetLUNInfo(USBH_HandleTypeDef *phost, uint8_t lun, MSC_LUNTypeDef *info
 730:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1808              		.loc 1 730 1 is_stmt 1 view -0
 1809              		.cfi_startproc
 1810              		@ args = 0, pretend = 0, frame = 0
 1811              		@ frame_needed = 0, uses_anonymous_args = 0
 1812              		@ link register save eliminated.
 731:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1813              		.loc 1 731 3 view .LVU531
 1814              		.loc 1 731 63 is_stmt 0 view .LVU532
 1815 0000 D0F87833 		ldr	r3, [r0, #888]
 1816              		.loc 1 731 22 view .LVU533
 1817 0004 DB69     		ldr	r3, [r3, #28]
 1818              	.LVL173:
 732:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if(phost->gState == HOST_CLASS)
 1819              		.loc 1 732 3 is_stmt 1 view .LVU534
 1820              		.loc 1 732 11 is_stmt 0 view .LVU535
 1821 0006 0078     		ldrb	r0, [r0]	@ zero_extendqisi2
 1822              	.LVL174:
 1823              		.loc 1 732 11 view .LVU536
 1824 0008 C0B2     		uxtb	r0, r0
 1825              		.loc 1 732 5 view .LVU537
 1826 000a 0B28     		cmp	r0, #11
 1827 000c 01D0     		beq	.L126
 733:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     USBH_memcpy(info,&MSC_Handle->unit[lun], sizeof(MSC_LUNTypeDef));
 735:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 736:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 737:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   else
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 55


 738:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 739:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_FAIL;
 1828              		.loc 1 739 12 view .LVU538
 1829 000e 0220     		movs	r0, #2
 740:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 741:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 1830              		.loc 1 741 1 view .LVU539
 1831 0010 7047     		bx	lr
 1832              	.L126:
 730:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 1833              		.loc 1 730 1 view .LVU540
 1834 0012 70B4     		push	{r4, r5, r6}
 1835              	.LCFI11:
 1836              		.cfi_def_cfa_offset 12
 1837              		.cfi_offset 4, -12
 1838              		.cfi_offset 5, -8
 1839              		.cfi_offset 6, -4
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1840              		.loc 1 734 5 is_stmt 1 view .LVU541
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1841              		.loc 1 734 22 is_stmt 0 view .LVU542
 1842 0014 3420     		movs	r0, #52
 1843 0016 00FB01F1 		mul	r1, r0, r1
 1844              	.LVL175:
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1845              		.loc 1 734 22 view .LVU543
 1846 001a 9031     		adds	r1, r1, #144
 1847 001c 0B44     		add	r3, r3, r1
 1848              	.LVL176:
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1849              		.loc 1 734 5 view .LVU544
 1850 001e 03F13006 		add	r6, r3, #48
 1851              	.LVL177:
 1852              	.L120:
 734:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return USBH_OK;
 1853              		.loc 1 734 5 view .LVU545
 1854 0022 1D68     		ldr	r5, [r3]	@ unaligned
 1855 0024 5C68     		ldr	r4, [r3, #4]	@ unaligned
 1856 0026 9868     		ldr	r0, [r3, #8]	@ unaligned
 1857 0028 D968     		ldr	r1, [r3, #12]	@ unaligned
 1858 002a 1560     		str	r5, [r2]	@ unaligned
 1859 002c 5460     		str	r4, [r2, #4]	@ unaligned
 1860 002e 9060     		str	r0, [r2, #8]	@ unaligned
 1861 0030 D160     		str	r1, [r2, #12]	@ unaligned
 1862 0032 1033     		adds	r3, r3, #16
 1863 0034 1032     		adds	r2, r2, #16
 1864 0036 B342     		cmp	r3, r6
 1865 0038 F3D1     		bne	.L120
 1866 003a 1B68     		ldr	r3, [r3]	@ unaligned
 1867 003c 1360     		str	r3, [r2]	@ unaligned
 735:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1868              		.loc 1 735 5 is_stmt 1 view .LVU546
 735:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 1869              		.loc 1 735 12 is_stmt 0 view .LVU547
 1870 003e 0020     		movs	r0, #0
 1871              		.loc 1 741 1 view .LVU548
 1872 0040 70BC     		pop	{r4, r5, r6}
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 56


 1873              	.LCFI12:
 1874              		.cfi_restore 6
 1875              		.cfi_restore 5
 1876              		.cfi_restore 4
 1877              		.cfi_def_cfa_offset 0
 1878 0042 7047     		bx	lr
 1879              		.cfi_endproc
 1880              	.LFE152:
 1882              		.section	.text.USBH_MSC_Read,"ax",%progbits
 1883              		.align	1
 1884              		.global	USBH_MSC_Read
 1885              		.syntax unified
 1886              		.thumb
 1887              		.thumb_func
 1888              		.fpu fpv5-sp-d16
 1890              	USBH_MSC_Read:
 1891              	.LVL178:
 1892              	.LFB153:
 742:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 743:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 744:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Read
 745:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Read operation
 746:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 747:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 748:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 749:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 750:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to read
 751:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 752:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 753:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Read(USBH_HandleTypeDef *phost,
 754:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint8_t lun,
 755:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint32_t address,
 756:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint8_t *pbuf,
 757:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint32_t length)
 758:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 1893              		.loc 1 758 1 is_stmt 1 view -0
 1894              		.cfi_startproc
 1895              		@ args = 4, pretend = 0, frame = 0
 1896              		@ frame_needed = 0, uses_anonymous_args = 0
 1897              		.loc 1 758 1 is_stmt 0 view .LVU550
 1898 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1899              	.LCFI13:
 1900              		.cfi_def_cfa_offset 24
 1901              		.cfi_offset 4, -24
 1902              		.cfi_offset 5, -20
 1903              		.cfi_offset 6, -16
 1904              		.cfi_offset 7, -12
 1905              		.cfi_offset 8, -8
 1906              		.cfi_offset 14, -4
 1907 0004 82B0     		sub	sp, sp, #8
 1908              	.LCFI14:
 1909              		.cfi_def_cfa_offset 32
 1910 0006 0D46     		mov	r5, r1
 1911 0008 089E     		ldr	r6, [sp, #32]
 759:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 1912              		.loc 1 759 3 is_stmt 1 view .LVU551
 760:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 57


 1913              		.loc 1 760 3 view .LVU552
 1914              		.loc 1 760 63 is_stmt 0 view .LVU553
 1915 000a D0F87813 		ldr	r1, [r0, #888]
 1916              	.LVL179:
 1917              		.loc 1 760 22 view .LVU554
 1918 000e CF69     		ldr	r7, [r1, #28]
 1919              	.LVL180:
 761:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 762:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 1920              		.loc 1 762 3 is_stmt 1 view .LVU555
 1921              		.loc 1 762 21 is_stmt 0 view .LVU556
 1922 0010 90F81E13 		ldrb	r1, [r0, #798]	@ zero_extendqisi2
 1923              		.loc 1 762 6 view .LVU557
 1924 0014 C9B3     		cbz	r1, .L132
 1925 0016 0446     		mov	r4, r0
 763:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1926              		.loc 1 763 13 discriminator 1 view .LVU558
 1927 0018 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 1928 001a C9B2     		uxtb	r1, r1
 762:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1929              		.loc 1 762 42 discriminator 1 view .LVU559
 1930 001c 0B29     		cmp	r1, #11
 1931 001e 36D1     		bne	.L133
 764:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 1932              		.loc 1 764 29 view .LVU560
 1933 0020 3421     		movs	r1, #52
 1934 0022 01FB0571 		mla	r1, r1, r5, r7
 1935 0026 91F89010 		ldrb	r1, [r1, #144]	@ zero_extendqisi2
 763:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 1936              		.loc 1 763 37 view .LVU561
 1937 002a 0129     		cmp	r1, #1
 1938 002c 01D0     		beq	.L136
 765:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 1939              		.loc 1 766 13 view .LVU562
 1940 002e 0220     		movs	r0, #2
 1941              	.LVL181:
 1942              		.loc 1 766 13 view .LVU563
 1943 0030 2EE0     		b	.L128
 1944              	.LVL182:
 1945              	.L136:
 767:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 768:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 769:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_READ;
 1946              		.loc 1 769 3 is_stmt 1 view .LVU564
 1947              		.loc 1 769 21 is_stmt 0 view .LVU565
 1948 0032 0620     		movs	r0, #6
 1949              	.LVL183:
 1950              		.loc 1 769 21 view .LVU566
 1951 0034 3873     		strb	r0, [r7, #12]
 770:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_READ;
 1952              		.loc 1 770 3 is_stmt 1 view .LVU567
 1953              		.loc 1 770 31 is_stmt 0 view .LVU568
 1954 0036 3421     		movs	r1, #52
 1955 0038 01FB0571 		mla	r1, r1, r5, r7
 1956 003c 81F89000 		strb	r0, [r1, #144]
 771:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 58


 1957              		.loc 1 771 3 is_stmt 1 view .LVU569
 1958              		.loc 1 771 22 is_stmt 0 view .LVU570
 1959 0040 A7F8FA50 		strh	r5, [r7, #250]	@ movhi
 772:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 773:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Read(phost, lun, address, pbuf, length);
 1960              		.loc 1 773 3 is_stmt 1 view .LVU571
 1961 0044 0096     		str	r6, [sp]
 1962 0046 2946     		mov	r1, r5
 1963 0048 2046     		mov	r0, r4
 1964 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Read
 1965              	.LVL184:
 774:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 775:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 1966              		.loc 1 775 3 view .LVU572
 1967              		.loc 1 775 11 is_stmt 0 view .LVU573
 1968 004e D4F8BC83 		ldr	r8, [r4, #956]
 1969              	.LVL185:
 776:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 777:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 1970              		.loc 1 777 3 is_stmt 1 view .LVU574
 1971              	.L129:
 1972              		.loc 1 777 9 view .LVU575
 1973              		.loc 1 777 10 is_stmt 0 view .LVU576
 1974 0052 2946     		mov	r1, r5
 1975 0054 2046     		mov	r0, r4
 1976 0056 FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 1977              	.LVL186:
 1978              		.loc 1 777 9 view .LVU577
 1979 005a 0128     		cmp	r0, #1
 1980 005c 11D1     		bne	.L137
 778:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 779:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(((phost->Timer - timeout) > (10000U * length)) || (phost->device.is_connected == 0U))
 1981              		.loc 1 779 5 is_stmt 1 view .LVU578
 1982              		.loc 1 779 15 is_stmt 0 view .LVU579
 1983 005e D4F8BC23 		ldr	r2, [r4, #956]
 1984              		.loc 1 779 23 view .LVU580
 1985 0062 A2EB0802 		sub	r2, r2, r8
 1986              		.loc 1 779 44 view .LVU581
 1987 0066 42F21073 		movw	r3, #10000
 1988 006a 03FB06F3 		mul	r3, r3, r6
 1989              		.loc 1 779 7 view .LVU582
 1990 006e 9A42     		cmp	r2, r3
 1991 0070 03D8     		bhi	.L130
 1992              		.loc 1 779 72 discriminator 1 view .LVU583
 1993 0072 94F81E33 		ldrb	r3, [r4, #798]	@ zero_extendqisi2
 1994              		.loc 1 779 55 discriminator 1 view .LVU584
 1995 0076 002B     		cmp	r3, #0
 1996 0078 EBD1     		bne	.L129
 1997              	.L130:
 780:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 781:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 1998              		.loc 1 781 7 is_stmt 1 view .LVU585
 1999              		.loc 1 781 25 is_stmt 0 view .LVU586
 2000 007a 0123     		movs	r3, #1
 2001 007c 3B73     		strb	r3, [r7, #12]
 782:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 2002              		.loc 1 782 7 is_stmt 1 view .LVU587
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 59


 2003              		.loc 1 782 14 is_stmt 0 view .LVU588
 2004 007e 0220     		movs	r0, #2
 2005 0080 06E0     		b	.L128
 2006              	.L137:
 783:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 784:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 785:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 2007              		.loc 1 785 3 is_stmt 1 view .LVU589
 2008              		.loc 1 785 21 is_stmt 0 view .LVU590
 2009 0082 0123     		movs	r3, #1
 2010 0084 3B73     		strb	r3, [r7, #12]
 786:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 787:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 2011              		.loc 1 787 3 is_stmt 1 view .LVU591
 2012              		.loc 1 787 10 is_stmt 0 view .LVU592
 2013 0086 0020     		movs	r0, #0
 2014 0088 02E0     		b	.L128
 2015              	.LVL187:
 2016              	.L132:
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 2017              		.loc 1 766 13 view .LVU593
 2018 008a 0220     		movs	r0, #2
 2019              	.LVL188:
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 2020              		.loc 1 766 13 view .LVU594
 2021 008c 00E0     		b	.L128
 2022              	.LVL189:
 2023              	.L133:
 766:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 2024              		.loc 1 766 13 view .LVU595
 2025 008e 0220     		movs	r0, #2
 2026              	.LVL190:
 2027              	.L128:
 788:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 2028              		.loc 1 788 1 view .LVU596
 2029 0090 02B0     		add	sp, sp, #8
 2030              	.LCFI15:
 2031              		.cfi_def_cfa_offset 24
 2032              		@ sp needed
 2033 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2034              		.loc 1 788 1 view .LVU597
 2035              		.cfi_endproc
 2036              	.LFE153:
 2038              		.section	.text.USBH_MSC_Write,"ax",%progbits
 2039              		.align	1
 2040              		.global	USBH_MSC_Write
 2041              		.syntax unified
 2042              		.thumb
 2043              		.thumb_func
 2044              		.fpu fpv5-sp-d16
 2046              	USBH_MSC_Write:
 2047              	.LVL191:
 2048              	.LFB154:
 789:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 790:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** /**
 791:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @brief  USBH_MSC_Write
 792:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   *         The function performs a Write operation
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 60


 793:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  phost: Host handle
 794:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  lun: logical Unit Number
 795:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  address: sector address
 796:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  pbuf: pointer to data
 797:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @param  length: number of sector to write
 798:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   * @retval USBH Status
 799:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   */
 800:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** USBH_StatusTypeDef USBH_MSC_Write(USBH_HandleTypeDef *phost,
 801:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint8_t lun,
 802:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint32_t address,
 803:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint8_t *pbuf,
 804:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****                                      uint32_t length)
 805:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** {
 2049              		.loc 1 805 1 is_stmt 1 view -0
 2050              		.cfi_startproc
 2051              		@ args = 4, pretend = 0, frame = 0
 2052              		@ frame_needed = 0, uses_anonymous_args = 0
 2053              		.loc 1 805 1 is_stmt 0 view .LVU599
 2054 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2055              	.LCFI16:
 2056              		.cfi_def_cfa_offset 24
 2057              		.cfi_offset 4, -24
 2058              		.cfi_offset 5, -20
 2059              		.cfi_offset 6, -16
 2060              		.cfi_offset 7, -12
 2061              		.cfi_offset 8, -8
 2062              		.cfi_offset 14, -4
 2063 0004 82B0     		sub	sp, sp, #8
 2064              	.LCFI17:
 2065              		.cfi_def_cfa_offset 32
 2066 0006 0D46     		mov	r5, r1
 2067 0008 089E     		ldr	r6, [sp, #32]
 806:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   uint32_t timeout;
 2068              		.loc 1 806 3 is_stmt 1 view .LVU600
 807:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_HandleTypeDef *MSC_Handle =  (MSC_HandleTypeDef *) phost->pActiveClass->pData;
 2069              		.loc 1 807 3 view .LVU601
 2070              		.loc 1 807 63 is_stmt 0 view .LVU602
 2071 000a D0F87813 		ldr	r1, [r0, #888]
 2072              	.LVL192:
 2073              		.loc 1 807 22 view .LVU603
 2074 000e CF69     		ldr	r7, [r1, #28]
 2075              	.LVL193:
 808:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 809:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   if ((phost->device.is_connected == 0U) ||
 2076              		.loc 1 809 3 is_stmt 1 view .LVU604
 2077              		.loc 1 809 21 is_stmt 0 view .LVU605
 2078 0010 90F81E13 		ldrb	r1, [r0, #798]	@ zero_extendqisi2
 2079              		.loc 1 809 6 view .LVU606
 2080 0014 C9B3     		cbz	r1, .L143
 2081 0016 0446     		mov	r4, r0
 810:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 2082              		.loc 1 810 13 discriminator 1 view .LVU607
 2083 0018 0178     		ldrb	r1, [r0]	@ zero_extendqisi2
 2084 001a C9B2     		uxtb	r1, r1
 809:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 2085              		.loc 1 809 42 discriminator 1 view .LVU608
 2086 001c 0B29     		cmp	r1, #11
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 61


 2087 001e 36D1     		bne	.L144
 811:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (MSC_Handle->unit[lun].state != MSC_IDLE))
 2088              		.loc 1 811 29 view .LVU609
 2089 0020 3421     		movs	r1, #52
 2090 0022 01FB0571 		mla	r1, r1, r5, r7
 2091 0026 91F89010 		ldrb	r1, [r1, #144]	@ zero_extendqisi2
 810:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       (phost->gState != HOST_CLASS) ||
 2092              		.loc 1 810 37 view .LVU610
 2093 002a 0129     		cmp	r1, #1
 2094 002c 01D0     		beq	.L147
 812:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     return  USBH_FAIL;
 2095              		.loc 1 813 13 view .LVU611
 2096 002e 0220     		movs	r0, #2
 2097              	.LVL194:
 2098              		.loc 1 813 13 view .LVU612
 2099 0030 2EE0     		b	.L139
 2100              	.LVL195:
 2101              	.L147:
 814:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 815:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 816:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_WRITE;
 2102              		.loc 1 816 3 is_stmt 1 view .LVU613
 2103              		.loc 1 816 21 is_stmt 0 view .LVU614
 2104 0032 0720     		movs	r0, #7
 2105              	.LVL196:
 2106              		.loc 1 816 21 view .LVU615
 2107 0034 3873     		strb	r0, [r7, #12]
 817:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->unit[lun].state = MSC_WRITE;
 2108              		.loc 1 817 3 is_stmt 1 view .LVU616
 2109              		.loc 1 817 31 is_stmt 0 view .LVU617
 2110 0036 3421     		movs	r1, #52
 2111 0038 01FB0571 		mla	r1, r1, r5, r7
 2112 003c 81F89000 		strb	r0, [r1, #144]
 818:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->rw_lun = lun;
 2113              		.loc 1 818 3 is_stmt 1 view .LVU618
 2114              		.loc 1 818 22 is_stmt 0 view .LVU619
 2115 0040 A7F8FA50 		strh	r5, [r7, #250]	@ movhi
 819:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 820:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   USBH_MSC_SCSI_Write(phost, lun, address, pbuf, length);
 2116              		.loc 1 820 3 is_stmt 1 view .LVU620
 2117 0044 0096     		str	r6, [sp]
 2118 0046 2946     		mov	r1, r5
 2119 0048 2046     		mov	r0, r4
 2120 004a FFF7FEFF 		bl	USBH_MSC_SCSI_Write
 2121              	.LVL197:
 821:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** 
 822:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   timeout = phost->Timer;
 2122              		.loc 1 822 3 view .LVU621
 2123              		.loc 1 822 11 is_stmt 0 view .LVU622
 2124 004e D4F8BC83 		ldr	r8, [r4, #956]
 2125              	.LVL198:
 823:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   while (USBH_MSC_RdWrProcess(phost, lun) == USBH_BUSY)
 2126              		.loc 1 823 3 is_stmt 1 view .LVU623
 2127              	.L140:
 2128              		.loc 1 823 9 view .LVU624
 2129              		.loc 1 823 10 is_stmt 0 view .LVU625
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 62


 2130 0052 2946     		mov	r1, r5
 2131 0054 2046     		mov	r0, r4
 2132 0056 FFF7FEFF 		bl	USBH_MSC_RdWrProcess
 2133              	.LVL199:
 2134              		.loc 1 823 9 view .LVU626
 2135 005a 0128     		cmp	r0, #1
 2136 005c 11D1     		bne	.L148
 824:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   {
 825:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     if(((phost->Timer - timeout) >  (10000U * length)) || (phost->device.is_connected == 0U))
 2137              		.loc 1 825 5 is_stmt 1 view .LVU627
 2138              		.loc 1 825 15 is_stmt 0 view .LVU628
 2139 005e D4F8BC23 		ldr	r2, [r4, #956]
 2140              		.loc 1 825 23 view .LVU629
 2141 0062 A2EB0802 		sub	r2, r2, r8
 2142              		.loc 1 825 45 view .LVU630
 2143 0066 42F21073 		movw	r3, #10000
 2144 006a 03FB06F3 		mul	r3, r3, r6
 2145              		.loc 1 825 7 view .LVU631
 2146 006e 9A42     		cmp	r2, r3
 2147 0070 03D8     		bhi	.L141
 2148              		.loc 1 825 73 discriminator 1 view .LVU632
 2149 0072 94F81E33 		ldrb	r3, [r4, #798]	@ zero_extendqisi2
 2150              		.loc 1 825 56 discriminator 1 view .LVU633
 2151 0076 002B     		cmp	r3, #0
 2152 0078 EBD1     		bne	.L140
 2153              	.L141:
 826:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     {
 827:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       MSC_Handle->state = MSC_IDLE;
 2154              		.loc 1 827 7 is_stmt 1 view .LVU634
 2155              		.loc 1 827 25 is_stmt 0 view .LVU635
 2156 007a 0123     		movs	r3, #1
 2157 007c 3B73     		strb	r3, [r7, #12]
 828:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****       return USBH_FAIL;
 2158              		.loc 1 828 7 is_stmt 1 view .LVU636
 2159              		.loc 1 828 14 is_stmt 0 view .LVU637
 2160 007e 0220     		movs	r0, #2
 2161 0080 06E0     		b	.L139
 2162              	.L148:
 829:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****     }
 830:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 831:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   MSC_Handle->state = MSC_IDLE;
 2163              		.loc 1 831 3 is_stmt 1 view .LVU638
 2164              		.loc 1 831 21 is_stmt 0 view .LVU639
 2165 0082 0123     		movs	r3, #1
 2166 0084 3B73     		strb	r3, [r7, #12]
 832:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   return USBH_OK;
 2167              		.loc 1 832 3 is_stmt 1 view .LVU640
 2168              		.loc 1 832 10 is_stmt 0 view .LVU641
 2169 0086 0020     		movs	r0, #0
 2170 0088 02E0     		b	.L139
 2171              	.LVL200:
 2172              	.L143:
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 2173              		.loc 1 813 13 view .LVU642
 2174 008a 0220     		movs	r0, #2
 2175              	.LVL201:
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 63


 2176              		.loc 1 813 13 view .LVU643
 2177 008c 00E0     		b	.L139
 2178              	.LVL202:
 2179              	.L144:
 813:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c ****   }
 2180              		.loc 1 813 13 view .LVU644
 2181 008e 0220     		movs	r0, #2
 2182              	.LVL203:
 2183              	.L139:
 833:Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Src/usbh_msc.c **** }
 2184              		.loc 1 833 1 view .LVU645
 2185 0090 02B0     		add	sp, sp, #8
 2186              	.LCFI18:
 2187              		.cfi_def_cfa_offset 24
 2188              		@ sp needed
 2189 0092 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2190              		.loc 1 833 1 view .LVU646
 2191              		.cfi_endproc
 2192              	.LFE154:
 2194              		.global	USBH_msc
 2195              		.section	.rodata.str1.4,"aMS",%progbits,1
 2196              		.align	2
 2197              	.LC15:
 2198 0000 4D534300 		.ascii	"MSC\000"
 2199              		.section	.data.USBH_msc,"aw"
 2200              		.align	2
 2203              	USBH_msc:
 2204 0000 00000000 		.word	.LC15
 2205 0004 08       		.byte	8
 2206 0005 000000   		.space	3
 2207 0008 00000000 		.word	USBH_MSC_InterfaceInit
 2208 000c 00000000 		.word	USBH_MSC_InterfaceDeInit
 2209 0010 00000000 		.word	USBH_MSC_ClassRequest
 2210 0014 00000000 		.word	USBH_MSC_Process
 2211 0018 00000000 		.word	USBH_MSC_SOFProcess
 2212 001c 00000000 		.word	0
 2213              		.text
 2214              	.Letext0:
 2215              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2216              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2217              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2218              		.file 5 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eabi
 2219              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2220              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2221              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2222              		.file 9 "Drivers/CMSIS/Include/core_cm7.h"
 2223              		.file 10 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2224              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 2225              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 2226              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
 2227              		.file 14 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_def.h"
 2228              		.file 15 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_ctlreq.h"
 2229              		.file 16 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_bot.h"
 2230              		.file 17 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc_scsi.h"
 2231              		.file 18 "Middlewares/ST/STM32_USB_Host_Library/Class/MSC/Inc/usbh_msc.h"
 2232              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 2233              		.file 20 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_pipes.h"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 64


 2234              		.file 21 "Middlewares/ST/STM32_USB_Host_Library/Core/Inc/usbh_core.h"
 2235              		.file 22 "<built-in>"
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 usbh_msc.c
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:18     .text.USBH_MSC_SOFProcess:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:25     .text.USBH_MSC_SOFProcess:00000000 USBH_MSC_SOFProcess
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:44     .rodata.USBH_MSC_Process.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:81     .text.USBH_MSC_Process:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:87     .text.USBH_MSC_Process:00000000 USBH_MSC_Process
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:152    .text.USBH_MSC_Process:0000003c $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:161    .text.USBH_MSC_Process:0000004e $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:754    .text.USBH_MSC_Process:000003d0 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:769    .text.USBH_MSC_Process:00000400 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:777    .rodata.USBH_MSC_ClassRequest.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:781    .text.USBH_MSC_ClassRequest:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:787    .text.USBH_MSC_ClassRequest:00000000 USBH_MSC_ClassRequest
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:934    .text.USBH_MSC_ClassRequest:00000080 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:939    .text.USBH_MSC_InterfaceDeInit:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:945    .text.USBH_MSC_InterfaceDeInit:00000000 USBH_MSC_InterfaceDeInit
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1035   .rodata.USBH_MSC_InterfaceInit.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1042   .text.USBH_MSC_InterfaceInit:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1048   .text.USBH_MSC_InterfaceInit:00000000 USBH_MSC_InterfaceInit
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1306   .text.USBH_MSC_InterfaceInit:00000150 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1312   .text.USBH_MSC_RdWrProcess:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1318   .text.USBH_MSC_RdWrProcess:00000000 USBH_MSC_RdWrProcess
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1621   .text.USBH_MSC_RdWrProcess:0000016c $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1629   .text.USBH_MSC_IsReady:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1636   .text.USBH_MSC_IsReady:00000000 USBH_MSC_IsReady
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1680   .text.USBH_MSC_GetMaxLUN:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1687   .text.USBH_MSC_GetMaxLUN:00000000 USBH_MSC_GetMaxLUN
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1737   .text.USBH_MSC_UnitIsReady:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1744   .text.USBH_MSC_UnitIsReady:00000000 USBH_MSC_UnitIsReady
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1798   .text.USBH_MSC_GetLUNInfo:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1805   .text.USBH_MSC_GetLUNInfo:00000000 USBH_MSC_GetLUNInfo
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1883   .text.USBH_MSC_Read:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:1890   .text.USBH_MSC_Read:00000000 USBH_MSC_Read
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:2039   .text.USBH_MSC_Write:00000000 $t
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:2046   .text.USBH_MSC_Write:00000000 USBH_MSC_Write
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:2203   .data.USBH_msc:00000000 USBH_msc
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:2196   .rodata.str1.4:00000000 $d
C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s:2200   .data.USBH_msc:00000000 $d

UNDEFINED SYMBOLS
printf
putchar
osMessagePut
USBH_MSC_SCSI_Inquiry
USBH_MSC_SCSI_TestUnitReady
USBH_MSC_SCSI_ReadCapacity
USBH_MSC_SCSI_RequestSense
USBH_MSC_BOT_REQ_GetMaxLUN
USBH_ClrFeature
free
USBH_ClosePipe
USBH_FreePipe
USBH_FindInterface
USBH_SelectInterface
malloc
USBH_AllocPipe
ARM GAS  C:\Users\Nina\AppData\Local\Temp\ccbPE9EV.s 			page 66


USBH_MSC_BOT_Init
memset
USBH_OpenPipe
USBH_LL_SetToggle
USBH_MSC_SCSI_Read
USBH_MSC_SCSI_Write
